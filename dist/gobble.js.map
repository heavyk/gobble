{"version":3,"file":"gobble.js","sources":["..//Users/kenny/Projects/github.com/heavyk/gobble/src/builtins/include.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/queue/Queue.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/assign.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/config/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/extractLocationInfo.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/is.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/signals.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/sourcemap.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/builtins/map.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/builtins/move.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/builtins/grab.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/GobbleError.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/warnOnce.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/compareBuffers.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/cleanup.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/session/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/serveFile.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/templates/compile.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/templates/dir.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/serveDir.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/vlq/src/vlq.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/decodeMappings.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/atob.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/sourceMappingURL.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/getMapFromUrl.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/getSourceMappingUrl.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/getMap.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/Node.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/btoa.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/SourceMap.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/encodeMappings.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/utils/slash.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/Chain.js","..//Users/kenny/Projects/github.com/heavyk/gobble/node_modules/sorcery/src/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/serveSourcemap.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/templates/err.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/templates/waiting.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/templates/notfound.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/serveError.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/handleRequest.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/serve/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/flattenSourcemaps.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/build/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/watch/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/Node.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/uid.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/Source.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/Merger.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/queue/index.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/utils/makeLog.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/Observer.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/nodes/Transformer.js","..//Users/kenny/Projects/github.com/heavyk/gobble/src/index.js"],"sourcesContent":["import { dirname } from 'path';\nimport { lsr, mkdir, symlinkOrCopy, Promise } from 'sander';\nimport *  as minimatch from 'minimatch';\n\nexport default function include ( inputdir, outputdir, options ) {\n\tconst numPatterns = options.patterns.length;\n\n\treturn lsr( inputdir )\n\t\t.then( files => {\n\t\t\treturn files.filter( file => {\n\t\t\t\tconst isIncluded = matches( file );\n\t\t\t\treturn options.exclude ? !isIncluded : isIncluded;\n\t\t\t});\n\t\t})\n\t\t.then( files => {\n\t\t\tconst promises = files.map( file => {\n\t\t\t\treturn mkdir( outputdir, dirname( file ) ).then( () => {\n\t\t\t\t\treturn symlinkOrCopy( inputdir, file ).to( outputdir, file );\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn Promise.all( promises );\n\t\t});\n\n\tfunction matches ( filename ) {\n\t\tlet i = numPatterns;\n\t\twhile ( i-- ) {\n\t\t\tif ( minimatch( filename, options.patterns[i] ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}\n","import { EventEmitter2 } from 'eventemitter2';\nimport { Promise } from 'sander';\n\nexport default class Queue extends EventEmitter2 {\n\tconstructor () {\n\t\tsuper({ wildcard: true });\n\n\t\tvar queue = this;\n\n\t\tqueue._tasks = [];\n\n\t\tqueue._run = () => {\n\t\t\tconst task = queue._tasks.shift();\n\n\t\t\tif ( !task ) {\n\t\t\t\tqueue._running = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttask.promise.then( runOnNextTick, runOnNextTick );\n\n\t\t\ttry {\n\t\t\t\ttask.fn( task.fulfil, task.reject );\n\t\t\t} catch ( err ) {\n\t\t\t\ttask.reject( err );\n\n\t\t\t\tqueue.emit( 'error', err );\n\t\t\t\trunOnNextTick();\n\t\t\t}\n\t\t};\n\n\t\tfunction runOnNextTick () {\n\t\t\tprocess.nextTick( queue._run );\n\t\t}\n\t}\n\n\tadd ( fn ) {\n\t\tlet task;\n\n\t\tconst promise = new Promise( ( fulfil, reject ) => {\n\t\t\ttask = { fn, fulfil, reject };\n\t\t});\n\n\t\ttask.promise = promise;\n\t\tthis._tasks.push( task );\n\n\t\tif ( !this._running ) {\n\t\t\tthis._running = true;\n\t\t\tthis._run();\n\t\t}\n\n\t\treturn promise;\n\t}\n\n\tabort () {\n\t\tthis._tasks = [];\n\t\tthis._running = false;\n\t}\n}\n","export default function assign ( target, ...sources ) {\n\tsources.forEach( source => {\n\t\tlet key;\n\n\t\tfor ( key in source ) {\n\t\t\tif ( source.hasOwnProperty( key ) ) {\n\t\t\t\ttarget[ key ] = source[ key ];\n\t\t\t}\n\t\t}\n\t});\n\n\treturn target;\n}\n","export default {\n\tenv: process.env.GOBBLE_ENV || 'development',\n\tcwd: process.env.GOBBLE_CWD || process.cwd()\n};\n","/**\n * Extracts location info from error objects using a set of heuristics\n   based on real-world examples\n * @param {object} err - an error object thrown by a transpiler\n * @returns {file, line, column}\n */\nexport default function extractLocationInfo ( err ) {\n\tlet { file, line, column, message, loc } = err;\n\n\tif ( !file && err.filename ) {\n\t\tfile = err.filename;\n\t}\n\n\tif ( line === undefined && column === undefined && loc ) {\n\t\tline = loc.line;\n\t\tcolumn = loc.column;\n\t}\n\n\tlet match;\n\n\tif ( line === undefined ) {\n\t\tif ( match = /line (\\d+)/.exec( message ) ) {\n\t\t\tline = +match[1];\n\t\t}\n\t}\n\n\tif ( column === undefined ) {\n\t\tif ( match = /column (\\d+)/.exec( message ) ) {\n\t\t\tcolumn = +match[1];\n\t\t}\n\t}\n\n\t// Handle errors from e.g. browserify\n\t// Unexpected token (123:456) while parsing /path/to/.gobble/12-derequire/1/app.js\n\tif ( line === undefined && column === undefined ) {\n\t\tconst match = /(\\d+):(\\d+)/.exec( message );\n\n\t\tif ( match ) {\n\t\t\tline = match[1];\n\t\t\tcolumn = match[2];\n\t\t}\n\t}\n\n\treturn { file, line, column };\n}\n","const toString = Object.prototype.toString;\n\nexport function isRegExp ( what ) {\n\treturn toString.call( what ) === '[object RegExp]';\n}\n\nexport function isArray( thing ) {\n\treturn toString.call( thing ) === '[object Array]';\n}\n\nexport function isString ( thing ) {\n\treturn typeof thing === 'string';\n}\n","export const ABORTED = { aborted: true };","let SOURCEMAPPING_URL = 'sourceMa';\nSOURCEMAPPING_URL += 'ppingURL';\n\nconst SOURCEMAP_COMMENT = new RegExp( `\\n*(?:` +\n\t`\\\\/\\\\/[@#]\\\\s*${SOURCEMAPPING_URL}=([^'\"]+)|` +      // js\n\t`\\\\/\\\\*#?\\\\s*${SOURCEMAPPING_URL}=([^'\"]+)\\\\s\\\\+\\\\/)` + // css\n`\\\\s*$`, 'g' );\n\nfunction getSourcemapComment ( url, ext ) {\n\tif ( ext === '.css' ) {\n\t\treturn `\\n/*# ${SOURCEMAPPING_URL}=${url} */\\n`;\n\t}\n\n\treturn `\\n//# ${SOURCEMAPPING_URL}=${url}\\n`;\n}\n\nexport { getSourcemapComment, SOURCEMAP_COMMENT, SOURCEMAPPING_URL };","import { extname, join, resolve } from 'path';\nimport * as chalk from 'chalk';\nimport Queue from '../queue/Queue.js';\nimport { lsr, readFile, symlinkOrCopy, writeFile, Promise } from 'sander';\nimport assign from '../utils/assign';\nimport config from '../config/index.js';\nimport extractLocationInfo from '../utils/extractLocationInfo';\nimport { isRegExp } from '../utils/is';\nimport { ABORTED } from '../utils/signals';\nimport { getSourcemapComment, SOURCEMAP_COMMENT } from '../utils/sourcemap';\n\nexport default function map ( inputdir, outputdir, options ) {\n\tlet changed = {};\n\tthis.changes.forEach( change => {\n\t\tif ( !change.removed ) {\n\t\t\tchanged[ change.file ] = true;\n\t\t}\n\t});\n\n\treturn new Promise( ( fulfil, reject ) => {\n\t\tconst queue = new Queue();\n\n\t\tqueue.once( 'error', reject );\n\n\t\tlsr( inputdir ).then( files => {\n\t\t\tconst promises = files.map( filename => {\n\t\t\t\tif ( this.aborted ) return;\n\n\t\t\t\tconst ext = extname( filename );\n\n\t\t\t\t// change extension if necessary, e.g. foo.coffee -> foo.js\n\t\t\t\tconst destname = ( options.ext && ~options.accept.indexOf( ext ) ) ? filename.substr( 0, filename.length - ext.length ) + options.ext : filename;\n\n\t\t\t\tconst src = join( inputdir, filename );\n\t\t\t\tconst dest = join( outputdir, destname );\n\n\t\t\t\t// If this mapper only accepts certain extensions, and this isn't\n\t\t\t\t// one of them, just copy the file\n\t\t\t\tif ( shouldSkip( options, ext, filename ) ) {\n\t\t\t\t\treturn symlinkOrCopy( src ).to( dest );\n\t\t\t\t}\n\n\t\t\t\t// If this file *does* fall within this transformer's remit, but\n\t\t\t\t// hasn't changed, we just copy the cached file\n\t\t\t\tif ( !changed[ filename ] && options.cache.hasOwnProperty( filename ) ) {\n\t\t\t\t\treturn symlinkOrCopy( options.cache[ filename ] ).to( dest );\n\t\t\t\t}\n\n\t\t\t\t// Otherwise, we queue up a transformation\n\t\t\t\treturn queue.add( ( fulfil, reject ) => {\n\t\t\t\t\tif ( this.aborted ) {\n\t\t\t\t\t\treturn reject( ABORTED );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create context object - this will be passed to transformers\n\t\t\t\t\tconst context = {\n\t\t\t\t\t\tlog: this.log,\n\t\t\t\t\t\tenv: config.env,\n\t\t\t\t\t\tsrc, dest, filename\n\t\t\t\t\t};\n\n\t\t\t\t\tconst transformOptions = assign( {}, options.fn.defaults, options.userOptions );\n\n\t\t\t\t\tdelete transformOptions.accept;\n\t\t\t\t\tdelete transformOptions.ext;\n\n\t\t\t\t\treturn readFile( src )\n\t\t\t\t\t\t.then( buffer => buffer.toString( transformOptions.sourceEncoding ) )\n\t\t\t\t\t\t.then( data => {\n\t\t\t\t\t\t\tif ( this.aborted ) return reject( ABORTED );\n\n\t\t\t\t\t\t\tlet result;\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresult = options.fn.call( context, data, transformOptions );\n\t\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\t\tlet err = createTransformError( e, src, filename, this.node );\n\t\t\t\t\t\t\t\treturn reject( err );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst codepath = resolve( this.cachedir, filename );\n\n\t\t\t\t\t\t\tconst { code, map } = processResult( result, data, src, dest, codepath );\n\n\t\t\t\t\t\t\twriteToCacheDir( code, map, codepath, dest )\n\t\t\t\t\t\t\t\t.then( () => symlinkOrCopy( codepath ).to( dest ) )\n\t\t\t\t\t\t\t\t.then( () => options.cache[ filename ] = codepath )\n\t\t\t\t\t\t\t\t.then( fulfil );\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch( reject );\n\t\t\t\t}).catch( err => {\n\t\t\t\t\tqueue.abort();\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn Promise.all( promises );\n\t\t}).then( () => {\n\t\t\tqueue.off( 'error', reject );\n\t\t\tfulfil();\n\t\t}, reject );\n\t});\n}\n\nfunction processResult ( result, original, src, dest, codepath ) {\n\tif ( typeof result === 'object' && 'code' in result ) {\n\t\t// if a sourcemap was returned, use it\n\t\tif ( result.map ) {\n\t\t\treturn {\n\t\t\t\tcode: result.code.replace( SOURCEMAP_COMMENT, '' ) + getSourcemapComment( encodeURI( codepath + '.map' ), extname( codepath ) ),\n\t\t\t\tmap: processSourcemap( result.map, src, dest, original )\n\t\t\t};\n\t\t}\n\n\t\t// otherwise we might have an inline sourcemap\n\t\telse {\n\t\t\treturn processInlineSourceMap( result.code, src, dest, original, codepath );\n\t\t}\n\t}\n\n\tif ( typeof result === 'string' ) {\n\t\treturn processInlineSourceMap( result, src, dest, original, codepath );\n\t}\n\n\treturn { code: result, map: null };\n}\n\nfunction isDataURI ( str ) {\n\treturn /^data:/.test( str ); // TODO beef this up\n}\n\nfunction processInlineSourceMap ( code, src, dest, original, codepath ) {\n\t// if there's an inline sourcemap, process it\n\tlet match = SOURCEMAP_COMMENT.exec( code );\n\tlet map = null;\n\n\tif ( match && isDataURI( match[1] ) ) {\n\t\tmatch = /base64,(.+)$/.exec( match[1] );\n\n\t\tif ( !match ) {\n\t\t\tthrow new Error( 'sourceMappingURL is not base64-encoded' );\n\t\t}\n\n\t\tlet json = atob( match[1] );\n\n\t\tmap = processSourcemap( json, src, dest, original );\n\t\tcode = code.replace( SOURCEMAP_COMMENT, '' ) + getSourcemapComment( encodeURI( codepath + '.map' ), extname( codepath ) );\n\t}\n\n\treturn { code, map };\n}\n\nfunction writeToCacheDir ( code, map, codepath ) {\n\tif ( map ) {\n\t\treturn Promise.all([\n\t\t\twriteFile( codepath, code ),\n\t\t\twriteFile( codepath + '.map', JSON.stringify( map ) )\n\t\t]);\n\t} else {\n\t\treturn writeFile( codepath, code );\n\t}\n}\n\nfunction createTransformError ( original, src, filename, node ) {\n\tconst err = typeof original === 'string' ? new Error( original ) : original;\n\n\tlet message = 'An error occurred while processing ' + chalk.magenta( src );\n\tlet creator;\n\n\tif ( creator = node.input._findCreator( filename ) ) {\n\t\tmessage += ` (this file was created by the ${creator.id} transformation)`;\n\t}\n\n\tconst { line, column } = extractLocationInfo( err );\n\n\terr.file = src;\n\terr.line = line;\n\terr.column = column;\n\n\treturn err;\n}\n\nfunction processSourcemap ( map, src, dest, data ) {\n\tif ( typeof map === 'string' ) {\n\t\tmap = JSON.parse( map );\n\t}\n\n\tif ( !map ) {\n\t\treturn null;\n\t}\n\n\tmap.file = dest;\n\tmap.sources = [ src ];\n\tmap.sourcesContent = [ data ];\n\treturn map;\n}\n\nfunction shouldSkip ( options, ext, filename ) {\n\tlet filter;\n\n\tif ( filter = options.accept ) {\n\t\tlet i;\n\n\t\tfor ( i=0; i<filter.length; i++ ) {\n\t\t\tconst flt = filter[i];\n\n\t\t\tif ( typeof flt === 'string' && flt === ext ) {\n\t\t\t\treturn false;\n\t\t\t} else if ( isRegExp( flt ) && flt.test( filename ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction atob ( base64 ) {\n\treturn new Buffer( base64, 'base64' ).toString( 'utf8' );\n}\n","import { symlinkOrCopy } from 'sander';\n\nexport default function moveTo ( inputdir, outputdir, options ) {\n\treturn symlinkOrCopy( inputdir ).to( outputdir, options.dest );\n}\n","import { symlinkOrCopy } from 'sander';\n\nexport default function grab ( inputdir, outputdir, options ) {\n\treturn symlinkOrCopy( inputdir, options.src ).to( outputdir );\n}\n","function GobbleError ( data ) {\n\tvar prop;\n\n\tthis.stack = (new Error()).stack;\n\n\tfor ( prop in data ) {\n\t\tif ( data.hasOwnProperty( prop ) ) {\n\t\t\tthis[ prop ] = data[ prop ];\n\t\t}\n\t}\n}\n\nGobbleError.prototype = Object.create( Error.prototype );\nGobbleError.prototype.constructor = GobbleError;\nGobbleError.prototype.gobble = true;\nGobbleError.prototype.name = 'GobbleError';\n\nexport default GobbleError;\n","/*global console */\nimport { format } from 'util';\n\nlet alreadyWarned = {};\n\nexport default function warnOnce () {\n\tconst warning = format.apply( null, arguments );\n\n\tif ( !alreadyWarned[ warning ] ) {\n\t\tconsole.log( warning );\n\t\talreadyWarned[ warning ] = true;\n\t}\n}\n","export default function compareBuffers ( a, b ) {\n\tlet i = a.length;\n\n\tif ( b.length !== i ) {\n\t\treturn false;\n\t}\n\n\twhile ( i-- ) {\n\t\tif ( a[i] !== b[i] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n","import { mkdir, readdir, rimraf, Promise } from 'sander' ;\n\nexport default function cleanup ( dir ) {\n\treturn mkdir( dir ).then( () => {\n\t\treturn readdir( dir ).then( files => {\n\t\t\tvar promises = files.map( filename => rimraf( dir, filename ) );\n\t\t\treturn Promise.all( promises );\n\t\t});\n\t});\n}\n","import { EventEmitter2 } from 'eventemitter2';\n\nlet currentSession;\n\nconst session = {\n\tconfig: null, // mutable\n\n\tcreate ( options ) {\n\t\tif ( currentSession ) {\n\t\t\tthrow new Error( 'Gobble is already running. You can only run one build/serve task per process' );\n\t\t}\n\n\t\tsession.config = {\n\t\t\tgobbledir: options.gobbledir\n\t\t};\n\n\t\tcurrentSession = new EventEmitter2({ wildcard: true });\n\t\treturn currentSession;\n\t},\n\n\tdestroy () {\n\t\tcurrentSession = session.config = null;\n\t}\n};\n\nexport default session;\n","import { basename, extname } from 'path';\nimport * as mime from 'mime';\nimport { readFile, stat, createReadStream } from 'sander';\nimport { getSourcemapComment, SOURCEMAP_COMMENT } from '../../utils/sourcemap';\n\nexport default function serveFile ( filepath, request, response ) {\n\tconst ext = extname( filepath );\n\n\t// this might be turn out to be a really bad idea. But let's try it and see\n\tif ( ext === '.js' || ext === '.css' ) {\n\t\treturn readFile( filepath ).then( data => {\n\t\t\t// this takes the auto-generated absolute sourcemap path, and turns\n\t\t\t// it into what you'd get with `gobble build` or `gobble watch`\n\t\t\tconst sourcemapComment = getSourcemapComment( basename( filepath ) + '.map', ext );\n\t\t\tdata = data.toString().replace( SOURCEMAP_COMMENT, sourcemapComment );\n\n\t\t\tresponse.statusCode = 200;\n\t\t\tresponse.setHeader( 'Content-Type', mime.lookup( filepath ) );\n\n\t\t\tresponse.write( data );\n\t\t\tresponse.end();\n\t\t});\n\t}\n\n\treturn stat( filepath ).then( stats => {\n\t\tresponse.statusCode = 200;\n\t\tresponse.setHeader( 'Content-Type', mime.lookup( filepath ) );\n\t\tresponse.setHeader( 'Content-Length', stats.size );\n\n\t\tcreateReadStream( filepath ).pipe( response );\n\t});\n}\n","export default function compile ( string ) {\n\treturn data => {\n\t\treturn string.replace( /\\{\\{([^\\}]+)\\}\\}/g, ( match, $1 ) => {\n\t\t\treturn data.hasOwnProperty( $1 ) ? data[ $1 ] : match;\n\t\t});\n\t};\n}\n","import compile from './compile';\n\nexport default compile( `<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<title>{{url}}</title>\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tfont-family: 'Helvetica Neue', arial, sans-serif;\n\t\t\t\tcolor: #666;\n\t\t\t\tfont-weight: 200;\n\t\t\t\tline-height: 1.4;\n\t\t\t\tpadding: 0 1em;\n\t\t\t}\n\n\t\t\tmain {\n\t\t\t\tmax-width: 30em;\n\t\t\t\tmargin: 2em auto 1em auto;\n\t\t\t}\n\n\t\t\th1 {\n\t\t\t\tfont-weight: 100;\n\t\t\t\tfont-size: 2em;\n\t\t\t\tmargin: 0 0 1em 0;\n\t\t\t}\n\n\t\t\tul {\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: 0;\n\t\t\t\tlist-style: none;\n\t\t\t}\n\n\t\t\tli {\n\t\t\t\tbackground: no-repeat 0 3px;\n\t\t\t\tpadding: 6px 0 6px 30px;\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP///8z//5mZmTMzMwAAAAAAAAAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAABACwAAAAAFAAWAAADaDi6vPEwDECrnSO+aTvPEQcIAmGaIrhR5XmKgMq1LkoMN7ECrjDWp52r0iPpJJ0KjUAq7SxLE+sI+9V8vycFiM0iLb2O80s8JcfVJJTaGYrZYPNby5Ov6WolPD+XDJqAgSQ4EUCGQQEJADs=);\n\t\t\t}\n\n\t\t\t/* public domain icons via http://www.apache.org/icons/ */\n\t\t\t.parent {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP///8z//5mZmWZmZjMzMwAAAAAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAABACwAAAAAFAAWAAADSxi63P4jEPJqEDNTu6LO3PVpnDdOFnaCkHQGBTcqRRxuWG0v+5LrNUZQ8QPqeMakkaZsFihOpyDajMCoOoJAGNVWkt7QVfzokc+LBAA7);\n\t\t\t\tpadding-bottom: 6px;\n\t\t\t\tmargin-bottom: 6px;\n\t\t\t\tborder-bottom: 1px solid #ddd;\n\t\t\t}\n\n\t\t\t.dir {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP/////Mmcz//5lmMzMzMwAAAAAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAACACwAAAAAFAAWAAADVCi63P4wyklZufjOErrvRcR9ZKYpxUB6aokGQyzHKxyO9RoTV54PPJyPBewNSUXhcWc8soJOIjTaSVJhVphWxd3CeILUbDwmgMPmtHrNIyxM8Iw7AQA7);\n\t\t\t}\n\n\t\t\t/* images */\n\t\t\t.png, .jpg, .gif {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAOMAAP////8zM8z//8zMzJmZmWZmZmYAADMzMwCZzACZMwAzZgAAAAAAAAAAAAAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAACACwAAAAAFAAWAAAEkPDISae4WBzAu99Hdm1eSYYZWXYqOgJBLAcDoNrYNssGsBy/4GsX6y2OyMWQ2OMQngSlBjZLWBM1AFSqkyU4A2tWywUMYt/wlTSIvgYGA/Zq3QwU7mmHvh4g8GUsfAUHCH95NwMHV4SGh4EdihOOjy8rZpSVeiV+mYCWHncKo6Sfm5cliAdQrK1PQBlJsrNSEQA7);\n\t\t\t}\n\n\t\t\t/* text files */\n\t\t\t.txt, .md, .css, .js, .json {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP///8z//5mZmTMzMwAAAAAAAAAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAABACwAAAAAFAAWAAADWDi6vPEwDECrnSO+aTvPEddVIriN1wVxROtSxBDPJwq7bo23luALhJqt8gtKbrsXBSgcEo2spBLAPDp7UKT02bxWRdrp94rtbpdZMrrr/A5+8LhPFpHajQkAOw==);\n\t\t\t}\n\n\t\t\t/* compressed files */\n\t\t\t.zip, .gz {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAOcAAP//////zP//mf//Zv//M///AP/M///MzP/Mmf/MZv/MM//MAP+Z//+ZzP+Zmf+ZZv+ZM/+ZAP9m//9mzP9mmf9mZv9mM/9mAP8z//8zzP8zmf8zZv8zM/8zAP8A//8AzP8Amf8AZv8AM/8AAMz//8z/zMz/mcz/Zsz/M8z/AMzM/8zMzMzMmczMZszMM8zMAMyZ/8yZzMyZmcyZZsyZM8yZAMxm/8xmzMxmmcxmZsxmM8xmAMwz/8wzzMwzmcwzZswzM8wzAMwA/8wAzMwAmcwAZswAM8wAAJn//5n/zJn/mZn/Zpn/M5n/AJnM/5nMzJnMmZnMZpnMM5nMAJmZ/5mZzJmZmZmZZpmZM5mZAJlm/5lmzJlmmZlmZplmM5lmAJkz/5kzzJkzmZkzZpkzM5kzAJkA/5kAzJkAmZkAZpkAM5kAAGb//2b/zGb/mWb/Zmb/M2b/AGbM/2bMzGbMmWbMZmbMM2bMAGaZ/2aZzGaZmWaZZmaZM2aZAGZm/2ZmzGZmmWZmZmZmM2ZmAGYz/2YzzGYzmWYzZmYzM2YzAGYA/2YAzGYAmWYAZmYAM2YAADP//zP/zDP/mTP/ZjP/MzP/ADPM/zPMzDPMmTPMZjPMMzPMADOZ/zOZzDOZmTOZZjOZMzOZADNm/zNmzDNmmTNmZjNmMzNmADMz/zMzzDMzmTMzZjMzMzMzADMA/zMAzDMAmTMAZjMAMzMAAAD//wD/zAD/mQD/ZgD/MwD/AADM/wDMzADMmQDMZgDMMwDMAACZ/wCZzACZmQCZZgCZMwCZAABm/wBmzABmmQBmZgBmMwBmAAAz/wAzzAAzmQAzZgAzMwAzAAAA/wAAzAAAmQAAZgAAM+4AAN0AALsAAKoAAIgAAHcAAFUAAEQAACIAABEAAADuAADdAAC7AACqAACIAAB3AABVAABEAAAiAAARAAAA7gAA3QAAuwAAqgAAiAAAdwAAVQAARAAAIgAAEe7u7t3d3bu7u6qqqoiIiHd3d1VVVURERCIiIhEREQAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAAkACwAAAAAFAAWAAAImQBJCCTBqmDBgQgTDmQFAABDVgojEmzI0KHEhBUrWrwoMGNDihwnAvjHiqRJjhX/qVz5D+VHAFZiWmmZ8BGHji9hxqTJ4ZFAmzc1vpxJgkPPn0Y5CP04M6lPEkCN5mxoJelRqFY5TM36NGrPqV67Op0KM6rYnkup/gMq1mdamC1tdn36lijUpwjr0pSoFyUrmTJLhiTBkqXCgAA7)\n\t\t\t}\n\n\t\t\t/* movies */\n\t\t\t.mp4, .mov, .avi {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP///8z//8zMzJmZmWZmZjMzMwAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAABACwAAAAAFAAWAAADZmi63BrQCOHaNCVewjsHEpUFDDGc6AAuY2iY6Qle7RbLbrvA8arUFF5qJtIEb6pcZAFoOp0MYIVBM748HSJmqRCifFuS7aaVenFV0g4JNrOV4iMZznjao9apIu3SwwMFgYKDhIEQCQA7);\n\t\t\t}\n\n\t\t\t/* audio */\n\t\t\t.wav, .mp3, .aiff, .flac, .ogg {\n\t\t\t\tbackground-image: url(data:image/gif;base64,R0lGODlhFAAWAMIAAP///8z//8zMzJmZmWZmZjMzMwAAAAAAACH+TlRoaXMgYXJ0IGlzIGluIHRoZSBwdWJsaWMgZG9tYWluLiBLZXZpbiBIdWdoZXMsIGtldmluaEBlaXQuY29tLCBTZXB0ZW1iZXIgMTk5NQAh+QQBAAABACwAAAAAFAAWAAADUBi63P7OSPikLXRZQySmGyF6UCgKV8mdm/FFHHqRVVvcNOzdSt7sr4CPMRS6VC8bsmcADIrMT/M5VBo3QYkzh81ufTce0Zph7sqMcBDNXiQAADs=);\n\t\t\t}\n\t\t</style>\n\t</head>\n\n\t<body>\n\t\t<main>\n\t\t\t<h1>{{url}}</h1>\n\t\t\t<ul>\n\t\t\t\t<li class='parent'><a href='..'>parent directory</li>\n\t\t\t\t{{items}}\n\t\t\t</ul>\n\t\t</main>\n\t</body>\n</html>` );\n","import { extname, resolve } from 'path';\nimport { statSync } from 'graceful-fs';\nimport { lookup } from 'mime';\nimport { exists, readdir } from 'sander';\nimport serveFile from './serveFile';\nimport dirTemplate from './templates/dir';\n\nexport default function serveDir ( filepath, request, response ) {\n\tconst index = resolve( filepath, 'index.html' );\n\n\treturn exists( index ).then( exists => {\n\t\tif ( exists ) {\n\t\t\treturn serveFile( index, request, response );\n\t\t}\n\n\t\treturn readdir( filepath ).then( files => {\n\t\t\tlet items = files.map( href => {\n\t\t\t\tconst stats = statSync( resolve( filepath, href ) );\n\t\t\t\tconst isDir = stats.isDirectory();\n\n\t\t\t\treturn {\n\t\t\t\t\tisDir,\n\t\t\t\t\thref,\n\t\t\t\t\ttype: isDir ? 'dir' : extname( href )\n\t\t\t\t};\n\t\t\t});\n\n\t\t\titems.sort( ( a, b ) => {\n\t\t\t\tif ( ( a.isDir && b.isDir ) || ( !a.isDir && !b.isDir ) ) {\n\t\t\t\t\treturn a.href < b.href ? 1 : -1;\n\t\t\t\t}\n\n\t\t\t\treturn a.isDir ? -1 : 1;\n\t\t\t});\n\n\t\t\tconst html = dirTemplate({\n\t\t\t\turl: request.url,\n\t\t\t\titems: items\n\t\t\t\t\t.map( item => `<li class=\"${item.type}\"><a href=\"${item.href}\">${item.href}</a></li>` )\n\t\t\t\t\t.join( '' )\n\t\t\t});\n\n\t\t\tresponse.statusCode = 200;\n\t\t\tresponse.setHeader( 'Content-Type', lookup( 'html' ) );\n\t\t\tresponse.setHeader( 'Content-Length', html.length );\n\n\t\t\tresponse.write( html );\n\t\t\tresponse.end();\n\t\t});\n\t});\n}\n","var charToInteger = {};\nvar integerToChar = {};\n\n'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split( '' ).forEach( function ( char, i ) {\n\tcharToInteger[ char ] = i;\n\tintegerToChar[ i ] = char;\n});\n\nexport function decode ( string ) {\n\tvar result = [],\n\t\tlen = string.length,\n\t\ti,\n\t\thasContinuationBit,\n\t\tshift = 0,\n\t\tvalue = 0,\n\t\tinteger,\n\t\tshouldNegate;\n\n\tfor ( i = 0; i < len; i += 1 ) {\n\t\tinteger = charToInteger[ string[i] ];\n\n\t\tif ( integer === undefined ) {\n\t\t\tthrow new Error( 'Invalid character (' + string[i] + ')' );\n\t\t}\n\n\t\thasContinuationBit = integer & 32;\n\n\t\tinteger &= 31;\n\t\tvalue += integer << shift;\n\n\t\tif ( hasContinuationBit ) {\n\t\t\tshift += 5;\n\t\t} else {\n\t\t\tshouldNegate = value & 1;\n\t\t\tvalue >>= 1;\n\n\t\t\tresult.push( shouldNegate ? -value : value );\n\n\t\t\t// reset\n\t\t\tvalue = shift = 0;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function encode ( value ) {\n\tvar result, i;\n\n\tif ( typeof value === 'number' ) {\n\t\tresult = encodeInteger( value );\n\t} else {\n\t\tresult = '';\n\t\tfor ( i = 0; i < value.length; i += 1 ) {\n\t\t\tresult += encodeInteger( value[i] );\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction encodeInteger ( num ) {\n\tvar result = '', clamped;\n\n\tif ( num < 0 ) {\n\t\tnum = ( -num << 1 ) | 1;\n\t} else {\n\t\tnum <<= 1;\n\t}\n\n\tdo {\n\t\tclamped = num & 31;\n\t\tnum >>= 5;\n\n\t\tif ( num > 0 ) {\n\t\t\tclamped |= 32;\n\t\t}\n\n\t\tresult += integerToChar[ clamped ];\n\t} while ( num > 0 );\n\n\treturn result;\n}\n","import crc32 from 'buffer-crc32';\nimport { decode } from 'vlq';\n\nlet cache = {};\n\nfunction decodeSegments ( encodedSegments ) {\n\tlet i = encodedSegments.length;\n\tlet segments = new Array( i);\n\n\twhile ( i-- ) {\n\t\tsegments[i] = decode( encodedSegments[i] );\n\t}\n\n\treturn segments;\n}\n\nexport default function decodeMappings ( mappings ) {\n\tlet checksum = crc32( mappings );\n\n\tif ( !cache[ checksum ] ) {\n\t\tlet sourceFileIndex = 0;   // second field\n\t\tlet sourceCodeLine = 0;    // third field\n\t\tlet sourceCodeColumn = 0;  // fourth field\n\t\tlet nameIndex = 0;         // fifth field\n\n\t\tlet lines = mappings.split( ';' );\n\t\tlet numLines = lines.length;\n\t\tlet decoded = new Array( numLines );\n\n\t\tlet i, j, line, generatedCodeColumn, decodedLine, segments, segment, result;\n\n\t\tfor ( i = 0; i < numLines; i += 1 ) {\n\t\t\tline = lines[i];\n\n\t\t\tgeneratedCodeColumn = 0; // first field - reset each time\n\t\t\tdecodedLine = [];\n\n\t\t\tsegments = decodeSegments( line.split( ',' ) );\n\n\t\t\tfor ( j = 0; j < segments.length; j += 1 ) {\n\t\t\t\tsegment = segments[j];\n\n\t\t\t\tif ( !segment.length ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tgeneratedCodeColumn += segment[0];\n\n\t\t\t\tresult = [ generatedCodeColumn ];\n\t\t\t\tdecodedLine.push( result );\n\n\t\t\t\tif ( segment.length === 1 ) {\n\t\t\t\t\t// only one field!\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tsourceFileIndex  += segment[1];\n\t\t\t\tsourceCodeLine   += segment[2];\n\t\t\t\tsourceCodeColumn += segment[3];\n\n\t\t\t\tresult.push( sourceFileIndex, sourceCodeLine, sourceCodeColumn );\n\n\t\t\t\tif ( segment.length === 5 ) {\n\t\t\t\t\tnameIndex += segment[4];\n\t\t\t\t\tresult.push( nameIndex );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdecoded[i] = decodedLine;\n\t\t}\n\n\t\tcache[ checksum ] = decoded;\n\t}\n\n\treturn cache[ checksum ];\n}\n","/**\n * Decodes a base64 string\n * @param {string} base64 - the string to decode\n * @returns {string}\n */\nexport default function atob ( base64 ) {\n\treturn new Buffer( base64, 'base64' ).toString( 'utf8' );\n}","// this looks ridiculous, but it prevents sourcemap tooling from mistaking\n// this for an actual sourceMappingURL\nlet SOURCEMAPPING_URL = 'sourceMa';\nSOURCEMAPPING_URL += 'ppingURL';\n\nexport default SOURCEMAPPING_URL;\n","import { dirname, resolve } from 'path';\nimport { readFile, readFileSync, Promise } from 'sander';\nimport atob from './atob';\nimport SOURCEMAPPING_URL from './sourceMappingURL';\n\n/**\n * Turns a sourceMappingURL into a sourcemap\n * @param {string} url - the sourceMappingURL. Can be a\n   base64-encoded data URI\n * @param {string} base - the URL against which relative URLS\n   should be resolved\n * @param {boolean} sync - if `true`, return a promise, otherwise\n   return the sourcemap\n * @returns {object} - a version 3 sourcemap\n */\nexport default function getMapFromUrl ( url, base, sync ) {\n\tif ( /^data:/.test( url ) ) { // TODO beef this up\n\t\tconst match = /base64,(.+)$/.exec( url );\n\n\t\tif ( !match ) {\n\t\t\tthrow new Error( `${SOURCEMAPPING_URL} is not base64-encoded` );\n\t\t}\n\n\t\tconst json = atob( match[1] );\n\t\tconst map = JSON.parse( json );\n\t\treturn sync ? map : Promise.resolve( map );\n\t}\n\n\turl = resolve( dirname( base ), decodeURI( url ) );\n\n\tif ( sync ) {\n\t\treturn JSON.parse( readFileSync( url ).toString() );\n\t} else {\n\t\treturn readFile( url ).then( String ).then( JSON.parse );\n\t}\n}\n","import SOURCEMAPPING_URL from './sourceMappingURL';\n\nexport default function getSourceMappingUrl ( str ) {\n\tvar index, substring, url, match;\n\n\t// assume we want the last occurence\n\tindex = str.lastIndexOf( `${SOURCEMAPPING_URL}=` );\n\n\tif ( index === -1 ) {\n\t\treturn null;\n\t}\n\n\tsubstring = str.substring( index + 17 );\n\tmatch = /^[^\\r\\n]+/.exec( substring );\n\n\turl = match ? match[0] : null;\n\n\t// possibly a better way to do this, but we don't want to exclude whitespace\n\t// from the sourceMappingURL because it might not have been correctly encoded\n\tif ( url && url.slice( -2 ) === '*/' ) {\n\t\turl = url.slice( 0, -2 ).trim();\n\t}\n\n\treturn url;\n}\n","import getMapFromUrl from './getMapFromUrl';\nimport getSourceMappingUrl from './getSourceMappingUrl';\nimport { Promise } from 'sander';\n\nexport default function getMap ( node, sourceMapByPath, sync ) {\n\tif ( node.file in sourceMapByPath ) {\n\t\tconst map = sourceMapByPath[ node.file ];\n\t\treturn sync ? map : Promise.resolve( map );\n\t}\n\n\telse {\n\t\tconst url = getSourceMappingUrl( node.content );\n\n\t\tif ( !url ) {\n\t\t\tnode.isOriginalSource = true;\n\t\t\treturn sync ? null : Promise.resolve( null );\n\t\t}\n\n\t\treturn getMapFromUrl( url, node.file, sync );\n\t}\n}","import { dirname, resolve } from 'path';\nimport { readFile, readFileSync, Promise } from 'sander';\nimport decodeMappings from './utils/decodeMappings';\nimport getMap from './utils/getMap';\n\nexport default class Node {\n\tconstructor ({ file, content }) {\n\t\tthis.file = file ? resolve( file ) : null;\n\t\tthis.content = content || null; // sometimes exists in sourcesContent, sometimes doesn't\n\n\t\tif ( !this.file && this.content === null ) {\n\t\t\tthrow new Error( 'A source must specify either file or content' );\n\t\t}\n\n\t\t// these get filled in later\n\t\tthis.map = null;\n\t\tthis.mappings = null;\n\t\tthis.sources = null;\n\t\tthis.isOriginalSource = null;\n\n\t\tthis._stats = {\n\t\t\tdecodingTime: 0,\n\t\t\tencodingTime: 0,\n\t\t\ttracingTime: 0,\n\n\t\t\tuntraceable: 0\n\t\t};\n\t}\n\n\tload ( sourcesContentByPath, sourceMapByPath ) {\n\t\treturn getContent( this, sourcesContentByPath ).then( content => {\n\t\t\tthis.content = sourcesContentByPath[ this.file ] = content;\n\n\t\t\treturn getMap( this, sourceMapByPath ).then( map => {\n\t\t\t\tif ( !map ) return null;\n\n\t\t\t\tthis.map = map;\n\n\t\t\t\tlet decodingStart = process.hrtime();\n\t\t\t\tthis.mappings = decodeMappings( map.mappings );\n\t\t\t\tlet decodingTime = process.hrtime( decodingStart );\n\t\t\t\tthis._stats.decodingTime = 1e9 * decodingTime[0] + decodingTime[1];\n\n\t\t\t\tconst sourcesContent = map.sourcesContent || [];\n\n\t\t\t\tconst sourceRoot = resolve( dirname( this.file ), map.sourceRoot || '' );\n\n\t\t\t\tthis.sources = map.sources.map( ( source, i ) => {\n\t\t\t\t\treturn new Node({\n\t\t\t\t\t\tfile: source ? resolve( sourceRoot, source ) : null,\n\t\t\t\t\t\tcontent: sourcesContent[i]\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tconst promises = this.sources.map( node => node.load( sourcesContentByPath, sourceMapByPath ) );\n\t\t\t\treturn Promise.all( promises );\n\t\t\t});\n\t\t});\n\t}\n\n\tloadSync ( sourcesContentByPath, sourceMapByPath ) {\n\t\tif ( !this.content ) {\n\t\t\tif ( !sourcesContentByPath[ this.file ] ) {\n\t\t\t\tsourcesContentByPath[ this.file ] = readFileSync( this.file ).toString();\n\t\t\t}\n\n\t\t\tthis.content = sourcesContentByPath[ this.file ];\n\t\t}\n\n\t\tconst map = getMap( this, sourceMapByPath, true );\n\t\tlet sourcesContent;\n\n\t\tif ( !map ) {\n\t\t\tthis.isOriginalSource = true;\n\t\t} else {\n\t\t\tthis.map = map;\n\t\t\tthis.mappings = decodeMappings( map.mappings );\n\n\t\t\tsourcesContent = map.sourcesContent || [];\n\n\t\t\tconst sourceRoot = resolve( dirname( this.file ), map.sourceRoot || '' );\n\n\t\t\tthis.sources = map.sources.map( ( source, i ) => {\n\t\t\t\tconst node = new Node({\n\t\t\t\t\tfile: resolve( sourceRoot, source ),\n\t\t\t\t\tcontent: sourcesContent[i]\n\t\t\t\t});\n\n\t\t\t\tnode.loadSync( sourcesContentByPath, sourceMapByPath );\n\t\t\t\treturn node;\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Traces a segment back to its origin\n\t * @param {number} lineIndex - the zero-based line index of the\n\t   segment as found in `this`\n\t * @param {number} columnIndex - the zero-based column index of the\n\t   segment as found in `this`\n\t * @param {string || null} - if specified, the name that should be\n\t   (eventually) returned, as it is closest to the generated code\n\t * @returns {object}\n\t     @property {string} source - the filepath of the source\n\t     @property {number} line - the one-based line index\n\t     @property {number} column - the zero-based column index\n\t     @property {string || null} name - the name corresponding\n\t     to the segment being traced\n\t */\n\ttrace ( lineIndex, columnIndex, name ) {\n\t\t// If this node doesn't have a source map, we have\n\t\t// to assume it is the original source\n\t\tif ( this.isOriginalSource ) {\n\t\t\treturn {\n\t\t\t\tsource: this.file,\n\t\t\t\tline: lineIndex + 1,\n\t\t\t\tcolumn: columnIndex || 0,\n\t\t\t\tname: name\n\t\t\t};\n\t\t}\n\n\t\t// Otherwise, we need to figure out what this position in\n\t\t// the intermediate file corresponds to in *its* source\n\t\tconst segments = this.mappings[ lineIndex ];\n\n\t\tif ( !segments || segments.length === 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( columnIndex != null ) {\n\t\t\tlet len = segments.length;\n\t\t\tlet i;\n\n\t\t\tfor ( i = 0; i < len; i += 1 ) {\n\t\t\t\tlet generatedCodeColumn = segments[i][0];\n\n\t\t\t\tif ( generatedCodeColumn > columnIndex ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( generatedCodeColumn === columnIndex ) {\n\t\t\t\t\tif ( segments[i].length < 4 ) return null;\n\n\t\t\t\t\tlet sourceFileIndex = segments[i][1];\n\t\t\t\t\tlet sourceCodeLine = segments[i][2];\n\t\t\t\t\tlet sourceCodeColumn = segments[i][3];\n\t\t\t\t\tlet nameIndex = segments[i][4];\n\n\t\t\t\t\tlet parent = this.sources[ sourceFileIndex ];\n\t\t\t\t\treturn parent.trace( sourceCodeLine, sourceCodeColumn, this.map.names[ nameIndex ] || name );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// fall back to a line mapping\n\t\tlet sourceFileIndex = segments[0][1];\n\t\tlet sourceCodeLine = segments[0][2];\n\t\tlet nameIndex = segments[0][4];\n\n\t\tlet parent = this.sources[ sourceFileIndex ];\n\t\treturn parent.trace( sourceCodeLine, null, this.map.names[ nameIndex ] || name );\n\t}\n}\n\nfunction getContent ( node, sourcesContentByPath ) {\n\tif ( node.file in sourcesContentByPath ) {\n\t\tnode.content = sourcesContentByPath[ node.file ];\n\t}\n\n\tif ( !node.content ) {\n\t\treturn readFile( node.file ).then( String );\n\t}\n\n\treturn Promise.resolve( node.content );\n}\n","/**\n * Encodes a string as base64\n * @param {string} str - the string to encode\n * @returns {string}\n */\nexport default function btoa ( str ) {\n\treturn new Buffer( str ).toString( 'base64' );\n}","import btoa from './utils/btoa';\n\nexport default class SourceMap {\n\tconstructor ( properties ) {\n\t\tthis.version = 3;\n\n\t\tthis.file           = properties.file;\n\t\tthis.sources        = properties.sources;\n\t\tthis.sourcesContent = properties.sourcesContent;\n\t\tthis.names          = properties.names;\n\t\tthis.mappings       = properties.mappings;\n\t}\n\n\ttoString () {\n\t\treturn JSON.stringify( this );\n\t}\n\n\ttoUrl () {\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa( this.toString() );\n\t}\n}","import { encode } from 'vlq';\n\nexport default function encodeMappings ( decoded ) {\n\tlet offsets = {\n\t\tgeneratedCodeColumn: 0,\n\t\tsourceFileIndex: 0,   // second field\n\t\tsourceCodeLine: 0,    // third field\n\t\tsourceCodeColumn: 0,  // fourth field\n\t\tnameIndex: 0          // fifth field\n\t};\n\n\treturn decoded.map( function ( line ) {\n\t\toffsets.generatedCodeColumn = 0; // first field - reset each time\n\t\treturn line.map( encodeSegment ).join( ',' );\n\t}).join( ';' );\n\n\tfunction encodeSegment ( segment ) {\n\t\tif ( !segment.length ) {\n\t\t\treturn segment;\n\t\t}\n\n\t\tlet result = new Array( segment.length );\n\n\t\tresult[0] = segment[0] - offsets.generatedCodeColumn;\n\t\toffsets.generatedCodeColumn = segment[0];\n\n\t\tif ( segment.length === 1 ) {\n\t\t\t// only one field!\n\t\t\treturn result;\n\t\t}\n\n\t\tresult[1] = segment[1] - offsets.sourceFileIndex;\n\t\tresult[2] = segment[2] - offsets.sourceCodeLine;\n\t\tresult[3] = segment[3] - offsets.sourceCodeColumn;\n\n\t\toffsets.sourceFileIndex  = segment[1];\n\t\toffsets.sourceCodeLine   = segment[2];\n\t\toffsets.sourceCodeColumn = segment[3];\n\n\t\tif ( segment.length === 5 ) {\n\t\t\tresult[4] = segment[4] - offsets.nameIndex;\n\t\t\toffsets.nameIndex = segment[4];\n\t\t}\n\n\t\treturn encode( result );\n\t}\n}\n","export default function slash ( path ) {\n\treturn typeof path === 'string' ?\n\t\tpath.replace( /\\\\/g, '/' ) :\n\t\tpath;\n}\n","import { basename, dirname, extname, relative, resolve } from 'path';\nimport { writeFile, writeFileSync } from 'sander';\nimport SourceMap from './SourceMap';\nimport encodeMappings from './utils/encodeMappings';\nimport slash from './utils/slash';\n\nlet SOURCEMAPPING_URL = 'sourceMa';\nSOURCEMAPPING_URL += 'ppingURL';\n\nconst SOURCEMAP_COMMENT = new RegExp( `\\n*(?:` +\n\t`\\\\/\\\\/[@#]\\\\s*${SOURCEMAPPING_URL}=([^'\"]+)|` +      // js\n\t`\\\\/\\\\*#?\\\\s*${SOURCEMAPPING_URL}=([^'\"]+)\\\\s\\\\*\\\\/)` + // css\n`\\\\s*$`, 'g' );\n\nexport default class Chain {\n\tconstructor ( node, sourcesContentByPath ) {\n\t\tthis.node = node;\n\t\tthis.sourcesContentByPath = sourcesContentByPath;\n\n\t\tthis._stats = {};\n\t}\n\n\tstat () {\n\t\treturn {\n\t\t\tselfDecodingTime: this._stats.decodingTime / 1e6,\n\t\t\ttotalDecodingTime: ( this._stats.decodingTime + tally( this.node.sources, 'decodingTime' ) ) / 1e6,\n\n\t\t\tencodingTime: this._stats.encodingTime / 1e6,\n\t\t\ttracingTime: this._stats.tracingTime / 1e6,\n\n\t\t\tuntraceable: this._stats.untraceable\n\t\t};\n\t}\n\n\tapply ( options = {} ) {\n\t\tlet allNames = [];\n\t\tlet allSources = [];\n\n\t\tconst applySegment = ( segment, result ) => {\n\t\t\tif ( segment.length < 4 ) return;\n\n\t\t\tconst traced = this.node.sources[ segment[1] ].trace( // source\n\t\t\t\tsegment[2], // source code line\n\t\t\t\tsegment[3], // source code column\n\t\t\t\tthis.node.map.names[ segment[4] ]\n\t\t\t);\n\n\t\t\tif ( !traced ) {\n\t\t\t\tthis._stats.untraceable += 1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourceIndex = allSources.indexOf( traced.source );\n\t\t\tif ( !~sourceIndex ) {\n\t\t\t\tsourceIndex = allSources.length;\n\t\t\t\tallSources.push( traced.source );\n\t\t\t}\n\n\t\t\tlet newSegment = [\n\t\t\t\tsegment[0], // generated code column\n\t\t\t\tsourceIndex,\n\t\t\t\ttraced.line - 1,\n\t\t\t\ttraced.column\n\t\t\t];\n\n\t\t\tif ( traced.name ) {\n\t\t\t\tlet nameIndex = allNames.indexOf( traced.name );\n\t\t\t\tif ( !~nameIndex ) {\n\t\t\t\t\tnameIndex = allNames.length;\n\t\t\t\t\tallNames.push( traced.name );\n\t\t\t\t}\n\n\t\t\t\tnewSegment[4] = nameIndex;\n\t\t\t}\n\n\t\t\tresult[ result.length ] = newSegment;\n\t\t};\n\n\t\t// Trace mappings\n\t\tlet tracingStart = process.hrtime();\n\n\t\tlet i = this.node.mappings.length;\n\t\tlet resolved = new Array( i );\n\n\t\tlet j, line, result;\n\n\t\twhile ( i-- ) {\n\t\t\tline = this.node.mappings[i];\n\t\t\tresolved[i] = result = [];\n\n\t\t\tfor ( j = 0; j < line.length; j += 1 ) {\n\t\t\t\tapplySegment( line[j], result );\n\t\t\t}\n\t\t}\n\n\t\tlet tracingTime = process.hrtime( tracingStart );\n\t\tthis._stats.tracingTime = 1e9 * tracingTime[0] + tracingTime[1];\n\n\t\t// Encode mappings\n\t\tlet encodingStart = process.hrtime();\n\t\tlet mappings = encodeMappings( resolved );\n\t\tlet encodingTime = process.hrtime( encodingStart );\n\t\tthis._stats.encodingTime = 1e9 * encodingTime[0] + encodingTime[1];\n\n\t\tlet includeContent = options.includeContent !== false;\n\n\t\treturn new SourceMap({\n\t\t\tfile: basename( this.node.file ),\n\t\t\tsources: allSources.map( source => slash( relative( options.base || dirname( this.node.file ), source ) ) ),\n\t\t\tsourcesContent: allSources.map( source => includeContent ? this.sourcesContentByPath[ source ] : null ),\n\t\t\tnames: allNames,\n\t\t\tmappings\n\t\t});\n\t}\n\n\ttrace ( oneBasedLineIndex, zeroBasedColumnIndex ) {\n\t\treturn this.node.trace( oneBasedLineIndex - 1, zeroBasedColumnIndex, null );\n\t}\n\n\twrite ( dest, options ) {\n\t\tif ( typeof dest !== 'string' ) {\n\t\t\toptions = dest;\n\t\t\tdest = this.node.file;\n\t\t}\n\n\t\toptions = options || {};\n\n\t\tconst { resolved, content, map } = processWriteOptions( dest, this, options );\n\n\t\tlet promises = [ writeFile( resolved, content ) ];\n\n\t\tif ( !options.inline ) {\n\t\t\tpromises.push( writeFile( resolved + '.map', map.toString() ) );\n\t\t}\n\n\t\treturn Promise.all( promises );\n\t}\n\n\twriteSync ( dest, options ) {\n\t\tif ( typeof dest !== 'string' ) {\n\t\t\toptions = dest;\n\t\t\tdest = this.node.file;\n\t\t}\n\n\t\toptions = options || {};\n\n\t\tconst { resolved, content, map } = processWriteOptions( dest, this, options );\n\n\t\twriteFileSync( resolved, content );\n\n\t\tif ( !options.inline ) {\n\t\t\twriteFileSync( resolved + '.map', map.toString() );\n\t\t}\n\t}\n}\n\nfunction processWriteOptions ( dest, chain, options ) {\n\tconst resolved = resolve( dest );\n\n\tconst map = chain.apply({\n\t\tincludeContent: options.includeContent,\n\t\tbase: options.base ? resolve( options.base ) : dirname( resolved )\n\t});\n\n\tconst url = options.inline ? map.toUrl() : ( options.absolutePath ? resolved : basename( resolved ) ) + '.map';\n\n\t// TODO shouldn't url be relative?\n\tconst content = chain.node.content.replace( SOURCEMAP_COMMENT, '' ) + sourcemapComment( url, resolved );\n\n\treturn { resolved, content, map };\n}\n\nfunction tally ( nodes, stat ) {\n\treturn nodes.reduce( ( total, node ) => {\n\t\treturn total + node._stats[ stat ];\n\t}, 0 );\n}\n\nfunction sourcemapComment ( url, dest ) {\n\tconst ext = extname( dest );\n\turl = encodeURI( url );\n\n\tif ( ext === '.css' ) {\n\t\treturn `\\n/*# ${SOURCEMAPPING_URL}=${url} */\\n`;\n\t}\n\n\treturn `\\n//# ${SOURCEMAPPING_URL}=${url}\\n`;\n}\n","import { resolve } from 'path';\nimport Node from './Node';\nimport Chain from './Chain';\n\nexport function load ( file, options ) {\n\tconst { node, sourcesContentByPath, sourceMapByPath } = init( file, options );\n\n\treturn node.load( sourcesContentByPath, sourceMapByPath )\n\t\t.then( () => node.isOriginalSource ? null : new Chain( node, sourcesContentByPath ) );\n}\n\nexport function loadSync ( file, options = {} ) {\n\tconst { node, sourcesContentByPath, sourceMapByPath } = init( file, options );\n\n\tnode.loadSync( sourcesContentByPath, sourceMapByPath );\n\treturn node.isOriginalSource ? null : new Chain( node, sourcesContentByPath );\n}\n\nfunction init ( file, options = {} ) {\n\tconst node = new Node({ file });\n\n\tlet sourcesContentByPath = {};\n\tlet sourceMapByPath = {};\n\n\tif ( options.content ) {\n\t\tObject.keys( options.content ).forEach( key => {\n\t\t\tsourcesContentByPath[ resolve( key ) ] = options.content[ key ];\n\t\t});\n\t}\n\n\tif ( options.sourcemaps ) {\n\t\tObject.keys( options.sourcemaps ).forEach( key => {\n\t\t\tsourceMapByPath[ resolve( key ) ] = options.sourcemaps[ key ];\n\t\t});\n\t}\n\n\treturn { node, sourcesContentByPath, sourceMapByPath };\n}\n","import { load } from 'sorcery';\n\nexport default function serveSourcemap ( filepath, sourcemapPromises, request, response ) {\n\tconst owner = filepath.slice( 0, -4 );\n\n\tif ( !sourcemapPromises[ filepath ] ) {\n\t\tsourcemapPromises[ filepath ] = load( owner )\n\t\t\t.then( chain => {\n\t\t\t\tif ( !chain ) {\n\t\t\t\t\tthrow new Error( 'Could not resolve sourcemap for ' + owner );\n\t\t\t\t}\n\n\t\t\t\treturn chain.apply().toString();\n\t\t\t});\n\t}\n\n\treturn sourcemapPromises[ filepath ].then( map => {\n\t\tresponse.statusCode = 200;\n\t\tresponse.setHeader( 'Content-Type', 'application/json' );\n\n\t\tresponse.write( map );\n\t\tresponse.end();\n\t});\n}","import compile from './compile';\n\nexport default compile( `<!doctype html>\n<html>\n<head>\n\t<meta charset='utf-8'>\n\t<meta name='viewport' content='width=device-width, user-scalable=no'>\n\n\t<title>gobble error</title>\n\n\t<style>\n\t\tbody {\n\t\t\ttext-align: center;\n\t\t\tfont-family: 'Helvetica Neue', arial, sans-serif;\n\t\t\tcolor: #666;\n\t\t\tfont-weight: 200;\n\t\t\tline-height: 1.4;\n\t\t\tpadding: 0 1em;\n\t\t\tmax-width: 72em;\n\t\t\tmargin: 0 auto;\n\t\t}\n\n\t\th1 {\n\t\t\tcolor: rgb(150,0,0);\n\t\t\tfont-weight: 100;\n\t\t\tfont-size: 6em;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\tp {\n\t\t\tmargin: 0 0 1em 0;\n\t\t}\n\n\t\t.error-message, .stack {\n\t\t\tpadding: 2em 4em;\n\t\t\tfont-family: 'Inconsolata', 'Source Code Pro', 'Consolas', 'Monaco', monospace;\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t.error-message a, .stack a {\n\t\t\tcolor: inherit;\n\t\t\tword-break: break-all;\n\t\t}\n\n\t\t.error-message {\n\t\t\tbackground-color: #333;\n\t\t\tcolor: white;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t.error-message span {\n\t\t\tword-break: break-all;\n\t\t}\n\n\t\t.stack {\n\t\t\tmargin: 0;\n\t\t\tpadding: 2em 4em;\n\t\t\tbackground-color: #555;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n\n<body>\n\t<h1>Oops!</h1>\n\n\t<p>Something appears to have gone wrong with the <strong>{{id}}</strong> node:</p>\n\n\t<p class='error-message'>{{message}}</p>\n\n\t<ul class='stack'>{{stack}}</ul>\n</body>\n</html>` );\n","import compile from './compile';\n\nexport default compile( `<!doctype html>\n<html>\n<head>\n\t<meta charset='utf-8'>\n\t<meta name='viewport' content='width=device-width, user-scalable=no'>\n\n\t<title>gobbling...</title>\n\n\t<style>\n\t\tbody {\n\t\t\ttext-align: center;\n\t\t\tfont-family: 'Helvetica Neue', arial, sans-serif;\n\t\t\tcolor: #666;\n\t\t\tfont-weight: 200;\n\t\t\tline-height: 1.4;\n\t\t}\n\n\t\th1 {\n\t\t\tfont-weight: 100;\n\t\t\tfont-size: 6em;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\tp {\n\t\t\tmax-width: 30em;\n\t\t\tmargin: 0 auto 1em auto;\n\t\t}\n\n\t\timg {\n\t\t\twidth: 100%;\n\t\t\tmax-width: 20em;\n\t\t\tmargin: 0 auto 1em auto;\n\t\t}\n\t</style>\n</head>\n\n<body>\n\t<h1>gobbling...</h1>\n\t<p>gobble is building the project. please wait...</p>\n\t<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDAwIDQwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNDAwIDQwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBmaWxsPSIjQUQ0RTI2IiBkPSJNMzIyLDIxNS45Yy03LjUsMy42LTEyLjYsOS43LTE3LDE2LjRjLTUuNSw4LjUtMTAuNywxNy4yLTE2LjEsMjUuOGMtNy4xLDExLjMtMTQuNSwyMi4zLTI0LjEsMzEuNg0KCWMtMTMuOCwxMy41LTMwLjEsMjIuNy00OC4zLDI4LjdjLTEuNiwwLjUtMy4xLDEuMS00LjcsMS42Yy0xLjIsMS4yLTIuNywxLjQtNC4zLDAuOWMtMy44LDAuMy03LjYsMC44LTExLjQsMQ0KCWMtOS41LDAuNS0xOC44LTEuMy0yOC0zLjhjLTEuNywwLjgtMywwLTQuMi0xLjFjLTEuNS0wLjgtMi45LTEuNi00LjQtMi4zYy0zMS4yLTE0LjgtNDkuMi0zOS45LTU2LjQtNzMuMQ0KCWMtMS42LTcuNi0yLjMtMTUuNC0yLjktMjMuMmMtMC44LTEwLjMtMi41LTIwLjQtNS0zMC4zYzguMi0xMC42LDE5LjQtMTcuNCwzMC43LTI0LjFjMTMuNy0zLjksMjcuOS01LjMsNDEuOC04LjINCgljMTMuOS0wLjYsMjcuNy0wLjQsNDEuNSwwLjljMTEuNiwxLjEsMjIuOSwzLjUsMzMuNyw3LjhjMi42LDEsNS41LDEuNSw3LjQsMy44Yy0xLDcuMi0yLjEsMTQuNC0zLDIxLjdjLTAuOSw2LjgtMC43LDEzLjYsMC45LDIwLjMNCgljMC40LDEuNywxLjMsMy40LDIuMiw1YzEuOCwzLjIsNC43LDQuOCw4LjMsNC4xYzIuNC0wLjQsNC45LTEsNy0yLjJjNi4zLTMuNywxMS45LTguMSwxNS42LTE0LjljNi4zLTExLjUsMTUuNC0yMC40LDI3LjctMjUuNA0KCWMxMC00LjEsMTkuNy0zLjksMjguOCwyLjZjMC44LDAuOCwxLDEuOCwwLjgsMi43Yy0xLjIsNS4yLDAuMyw5LjgsMy4yLDE0LjFjLTIuMywzLjMtNC42LDYuNi03LDkuOQ0KCUMzMzEuMiwyMDkuOSwzMjYuNywyMTMuMiwzMjIsMjE1Ljl6Ii8+DQo8cGF0aCBmaWxsPSIjRUQ2NTI1IiBkPSJNMjEwLDE1OGMtMTQuMy0wLjMtMjguNy0wLjctNDMtMWMtMC44LTEtMS0yLTAuMS0zLjFjMi0xNi42LDQtMzMuMyw1LjktNDkuOWMwLjYtNS4xLDEtMTAuMywxLjItMTUuNA0KCWMwLjUtMTYuOCwyLTMzLjUsNC4yLTUwLjFjMS03LjEsNC0xMy4yLDktMTguNWM2LjEtNi4zLDE3LjYtNS41LDIyLjYsMy4xYzIuNyw0LjUsNC4xLDkuNSw0LjEsMTQuN2MwLDkuMy0wLjUsMTguNi0wLjgsMjcuOQ0KCWMtMC40LDExLjMtMSwyMi42LTEuMywzMy45Yy0wLjQsMTYuMy0wLjcsMzIuNi0xLDQ4LjlDMjEwLjksMTQ5LjksMjEwLjksMTU2LjUsMjEwLDE1OHoiLz4NCjxwYXRoIGZpbGw9IiNGRUJGMTUiIGQ9Ik0xNjYuOCwxNTMuOGMwLDEsMC4xLDIuMSwwLjEsMy4xYy00LjMsMS04LjYsMi4xLTEyLjksMi45Yy04LjQsMS42LTE2LjgsMy4yLTI1LjIsNC43DQoJYy0xLjMsMC4yLTIuNiwwLjMtMy45LDAuNWMtMC43LTAuNS0xLjYtMC45LTAuNi0yYzAuMi0xLjMsMC42LTIuNiwwLjUtMy44Yy0wLjktMTQuMi0xLjctMjguNS0zLTQyLjdjLTAuOS05LjktMi41LTE5LjctMy41LTI5LjYNCgljLTEtMTAuMS0yLjItMjAuMi0wLjQtMzAuM2MxLjItNi4zLDMuNy0xMS43LDEwLjEtMTQuNGM2LjItMi42LDExLjctMS41LDE1LjMsNC4xYzIuNyw0LjEsNS4xLDguNyw2LjQsMTMuM2MyLjIsOCwzLjcsMTYuMSw1LDI0LjMNCgljMi43LDE2LDUsMzIuMSw3LjYsNDguMWMxLjEsNi43LDIuNCwxMy40LDMuNiwyMEMxNjYuMiwxNTIuOCwxNjYuNiwxNTMuMywxNjYuOCwxNTMuOHoiLz4NCjxwYXRoIGZpbGw9IiNCRjI0MjYiIGQ9Ik0yMTAsMTU4YzAuNi0xLjcsMS4yLTMuNCwxLjktNWMyLTguOSw0LjMtMTcuOCw2LjEtMjYuN2MzLjEtMTUsNi0zMCw5LTQ0LjljMS41LTcuNCw0LjItMTQuNCw4LTIwLjgNCgljMS43LTIuOCwzLjYtNS42LDYtNy45YzcuNy03LjYsMTguOS01LjQsMjMuMyw0LjZjMSwyLjQsMS41LDUuMSwxLjcsNy43YzAuOSwxMC40LTEuMywyMC41LTMuMSwzMC43Yy0zLjEsMTcuNS02LDM1LTksNTIuNg0KCWMtMS4xLDYuNy0yLjQsMTMuMy0zLjYsMjBjLTQuOC0xLjYtOS42LTMuMi0xNC41LTQuN2MtNy0yLjMtMTQtNC42LTIxLjYtNC41QzIxMi44LDE1OC45LDIxMS40LDE1OC4zLDIxMCwxNTh6Ii8+DQo8cGF0aCBmaWxsPSIjNTczNzE1IiBkPSJNMTI0LjMsMTYzLjFjMC4yLDAuNywwLjQsMS4zLDAuNiwyYy0zLjQsMi41LTYuNiw1LjMtMTAuMiw3LjRjLTUuNywzLjQtMTAuNyw3LjYtMTUuMywxMi40DQoJYy0xLjIsMS4zLTIuOCwyLjEtNC4yLDMuMmMtNy42LTIxLjktMTUuMy00My43LTIyLjgtNjUuN2MtMS44LTUuMy0zLjEtMTAuOC00LjMtMTYuM0M2NS44LDk1LjQsNzYsODYuMSw4Ni40LDg5LjMNCgljMy4yLDEsNS41LDMuMSw2LjksNmM0LjMsOC42LDguNiwxNy4yLDEyLjYsMjUuOUMxMTIuMiwxMzUuMSwxMTguMiwxNDkuMSwxMjQuMywxNjMuMXoiLz4NCjxwYXRoIGZpbGw9IiM2MjQxMUUiIGQ9Ik0yMDcuNSwzMjAuOGMxLjQtMC4zLDIuOS0wLjYsNC4zLTAuOWMwLjQsMTAuNiwwLjgsMjEuMiwxLjEsMzEuOWMwLjEsMiwwLjcsMy40LDEuOCw1DQoJYzMsNC4yLDUuNyw4LjUsOC41LDEyLjhjMC41LDAuOCwxLjEsMS44LDEuMiwyLjdjMCwwLjgtMC41LDEuOS0xLjEsMi40Yy0wLjMsMC4zLTEuNy0wLjEtMi4yLTAuNmMtMC44LTAuOC0xLjMtMS45LTEuOS0yLjkNCgljLTEuOS0zLjEtMy43LTYuMi02LjUtOWMtMC4zLDIuNC0wLjUsNC44LTAuOCw3LjJjLTAuNCwzLjEtMC44LDYuMy0xLjIsOS40Yy0wLjIsMS42LTAuOSwzLjMtMi43LDNjLTIuMS0wLjMtMS45LTIuMi0xLjYtNA0KCWMwLjgtNS4xLDEuMy0xMC4yLDEuOS0xNS4yYy0wLjMtMC4yLTAuNi0wLjMtMC45LTAuNWMtMi44LDIuOC01LjYsNS43LTguNCw4LjVjLTAuOCwwLjgtMS41LDEuOS0yLjUsMi40Yy0wLjcsMC4zLTIuMiwwLjItMi42LTAuMw0KCWMtMC41LTAuNS0wLjUtMS45LTAuMS0yLjZjMC41LTEsMS42LTEuNywyLjQtMi41YzMuMi0zLjQsNi40LTYuOCw5LjYtMTAuMWMxLjktMiwyLjgtNC40LDIuNy03LjINCglDMjA4LjIsMzQwLjQsMjA3LjgsMzMwLjYsMjA3LjUsMzIwLjh6Ii8+DQo8cGF0aCBmaWxsPSIjNjI0MTFFIiBkPSJNMTYzLjksMzE3YzEuNCwwLjQsMi44LDAuNyw0LjIsMS4xYzAuMSw0LjYsMC4zLDkuMywwLjMsMTMuOWMwLDYuMiwwLDEyLjMtMC40LDE4LjRjLTAuMiwzLjQsMC45LDYsMi44LDguNw0KCWMyLjUsMy41LDQuNSw3LjMsNi43LDExLjFjMC40LDAuNywwLjcsMS41LDEuMSwyLjNjMC43LDEuNCwwLjUsMi44LTEsMy4zYy0wLjcsMC4yLTIuMS0wLjctMi42LTEuNGMtMS0xLjMtMS40LTMtMi4zLTQuNA0KCWMtMS40LTIuNC0yLjktNC43LTUtOC4xYy0xLDYuMi0xLjgsMTEuMy0yLjcsMTYuNGMtMC4zLDEuNC0wLjgsMi45LTEuNSw0LjFjLTAuMiwwLjMtMi4yLDAuMS0yLjMtMC4yYy0wLjQtMS4yLTAuNi0yLjUtMC40LTMuOA0KCWMwLjgtNS4yLDEuNy0xMC40LDEuOC0xNmMtMy4zLDMuMS02LjYsNi4zLTEwLDkuNGMtMS4yLDEuMS0yLjUsMy00LjEsMS4yYy0xLjQtMS41LDAtMywxLjItNC4yYzMuNy0zLjYsNy4zLTcuMiwxMS4xLTEwLjgNCgljMi4zLTIuMiwzLjQtNC43LDMuMy04QzE2My44LDMzOSwxNjMuOSwzMjgsMTYzLjksMzE3eiIvPg0KPHBhdGggZmlsbD0iI0MwMkMyOSIgZD0iTTMyMiwyMTUuOWMzLjYtNC40LDguMS03LjUsMTMtMTBjMi44LDIuMywzLjIsNS4zLDIuNiw4LjZjLTAuOCw0LjctMS44LDkuNC0yLjcsMTQuMQ0KCWMtMC4yLDEuMS0wLjYsMi4zLTEuMiwzLjNjLTEsMS44LTIuMywzLjMtNC44LDIuN2MtMy0wLjctNC41LTIuMy00LjYtNWMtMC4xLTEtMC4xLTIsMC4yLTNDMzI1LjYsMjIyLjYsMzI0LjUsMjE5LjEsMzIyLDIxNS45eiIvPg0KPHBhdGggZmlsbD0iI0ZFQkYxNSIgZD0iTTM0MS45LDE5NmMtNC41LTEuMy00LjMtNS4zLTQuOC04LjZjLTAuNC0yLjYsMC41LTUuNSwwLjgtOC4yYzMuMSwwLjMsNi4yLDAuNSw5LjMsMC45DQoJYzMuOCwwLjQsNy41LDEsMTIuMywxLjZDMzUzLjMsMTg2LjgsMzQ3LjYsMTkxLjQsMzQxLjksMTk2eiIvPg0KPHBhdGggZmlsbD0iIzU2MzUxMiIgZD0iTTE2OCwyMzUuM2MtNy44LDAuOC0xNS4xLDEuNS0yMi40LDIuMmMtMC4xLTAuNC0wLjMtMC44LTAuNC0xLjJjMS42LTEsMy4yLTEuOSw0LjgtMi45DQoJYzExLjUtNy4xLDIyLjgtMTQuNywzNC42LTIxLjNjMTAuMS01LjYsMjAuOC02LjMsMzAuOSwwLjdjMTMsOC45LDE0LjUsMjcsMC45LDM4Yy05LjIsNy40LTE5LjksMTEuNy0zMSwxNC44DQoJYy05LjYsMi43LTE5LjUsNC4zLTI5LjMsNi4zYy0wLjgsMC4yLTEuNiwwLTMuNiwwYzQuNy0zLjYsOC43LTYuNCwxMi40LTkuNGMzLjgtMy4xLDcuNS02LjUsMTEtMTAuMWMtMTEuNywyLjEtMjMuMSw1LjktMzUuOCw0LjMNCglDMTQ5LjQsMjQ5LjQsMTU5LjIsMjQzLjMsMTY4LDIzNS4zeiIvPg0KPHBhdGggZmlsbD0iIzE3MEEwMiIgZD0iTTMxOS4zLDE5NmMtMy40LTAuMS01LjQtMi4zLTUuMy01LjdjMC4xLTIuOCwyLjgtNS40LDUuNC01LjNjMywwLjIsNS42LDMsNS41LDUuOQ0KCUMzMjQuOCwxOTMuNiwzMjIuMSwxOTYsMzE5LjMsMTk2eiIvPg0KPC9zdmc+DQo='>\n\t<script>\n\t\tsetTimeout( function () {\n\t\t\tlocation.reload();\n\t\t}, 1000 );\n\t</script>\n</body>\n</html>` );\n","import compile from './compile';\n\nexport default compile( `<!doctype html>\n<html>\n<head>\n\t<meta charset='utf-8'>\n\t<meta name='viewport' content='width=device-width, user-scalable=no'>\n\n\t<title>file not found</title>\n\n\t<style>\n\t\tbody {\n\t\t\ttext-align: center;\n\t\t\tfont-family: 'Helvetica Neue', arial, sans-serif;\n\t\t\tcolor: #666;\n\t\t\tfont-weight: 200;\n\t\t\tline-height: 1.4;\n\t\t}\n\n\t\th1 {\n\t\t\tcolor: rgb(150,0,0);\n\t\t\tfont-weight: 100;\n\t\t\tfont-size: 6em;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\tp {\n\t\t\tmax-width: 30em;\n\t\t\tmargin: 0 auto 1em auto;\n\t\t}\n\t</style>\n</head>\n\n<body>\n\t<h1>404</h1>\n\n\t<p>The file <strong>{{path}}</strong> does not exist.</p>\n\t<p><a href='https://github.com/gobblejs/gobble/wiki/Troubleshooting'>See the troubleshooting page</a> if you're having problems getting your build to work as expected.</p>\n</body>\n</html>` );\n","import errTemplate from './templates/err';\nimport waitingTemplate from './templates/waiting';\nimport notfoundTemplate from './templates/notfound';\n\nconst entities = {\n\t'&': '&amp;',\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n\t'/': '&#x2F;'\n};\n\nconst colors = {\n\t37: 'white',\n\t90: 'grey',\n\t30: 'black',\n\t34: 'blue',\n\t36: 'cyan',\n\t32: 'green',\n\t35: 'magenta',\n\t31: 'red',\n\t33: 'yellow'\n};\n\nexport default function serveError ( error, request, response ) {\n\tlet html; // should be a block-scoped const, but jshint...\n\n\tif ( error.gobble === 'WAITING' ) {\n\t\tresponse.statusCode = 420;\n\t\tresponse.write( waitingTemplate() );\n\n\t\tresponse.end();\n\t}\n\n\telse if ( error.code === 'ENOENT' ) {\n\t\thtml = notfoundTemplate({\n\t\t\tpath: error.path\n\t\t});\n\n\t\tresponse.statusCode = 404;\n\t\tresponse.write( html );\n\n\t\tresponse.end();\n\t}\n\n\telse {\n\t\tconst message = escape( error.original ? error.original.message || error.original : error.message || error );\n\t\tconst filename = error.original ? error.original.filename : error.filename;\n\n\t\thtml = errTemplate({\n\t\t\tid: error.id,\n\t\t\tmessage: message.replace( /\\[(\\d+)m/g, ( match, $1 ) => {\n\t\t\t\tlet color;\n\n\t\t\t\tif ( match === '[39m' ) {\n\t\t\t\t\treturn '</span>';\n\t\t\t\t}\n\n\t\t\t\tif ( color = colors[ $1 ] ) {\n\t\t\t\t\treturn `<span style=\"color:${color};\">`;\n\t\t\t\t}\n\n\t\t\t\treturn '';\n\t\t\t}), // remove colors\n\t\t\tstack: prepareStack( error.stack ),\n\t\t\tfilemessage: filename ? `<p>The error occurred while processing <strong>${filename}</strong>.</p>` : ''\n\t\t});\n\n\t\t// turn filepaths into links\n\t\thtml = html.replace( /([>\\s\\(])(&#x2F[^\\s\\):<]+)/g, ( match, $1, $2 ) => {\n\t\t\treturn `${$1}<a href=\"/__gobble__${$2}\">${$2}</a>`;\n\t\t});\n\n\t\tresponse.statusCode = 500;\n\t\tresponse.write( html );\n\n\t\tresponse.end();\n\t}\n}\n\nfunction prepareStack ( stack ) {\n\treturn stack.split( '\\n' )\n\t\t.filter( line => line !== 'Error' )\n\t\t.map( line => `<li>${escape( line.trim() )}</li>` )\n\t\t.join( '' );\n}\n\nfunction escape ( str ) {\n\treturn ( str || '' ).replace( /[&<>\"'\\/]/g, char => entities[ char ] );\n}\n","import { extname, join } from 'path';\nimport { parse } from 'url';\nimport { stat, Promise } from 'sander';\nimport serveFile from './serveFile';\nimport serveDir from './serveDir';\nimport serveSourcemap from './serveSourcemap';\nimport serveError from './serveError';\n\nexport default function handleRequest ( srcDir, error, sourcemapPromises, request, response ) {\n\tconst parsedUrl = parse( request.url );\n\tconst pathname = parsedUrl.pathname;\n\n\tlet filepath;\n\n\tif ( error ) {\n\t\tif ( pathname.substr( 0, 11 ) === '/__gobble__' ) {\n\t\t\tconst message = ( error.original && error.original.message ) || error.message || '';\n\t\t\tfilepath = pathname.substring( 11 );\n\n\t\t\t// only allow links to files that we're actually interested in, not\n\t\t\t// the whole damn filesystem\n\t\t\tif ( ~message.indexOf( filepath ) || ~error.stack.indexOf( filepath ) ) {\n\t\t\t\treturn serveFile( pathname.substring( 11 ), request, response );\n\t\t\t}\n\t\t}\n\n\t\tserveError( error, request, response );\n\t\treturn Promise.resolve();\n\t}\n\n\tfilepath = join( srcDir, pathname );\n\n\tif ( extname( filepath ) === '.map' ) {\n\t\treturn serveSourcemap( filepath, sourcemapPromises, request, response )\n\t\t\t.catch( err => serveError( err, request, response ) );\n\t}\n\n\treturn stat( filepath ).then( stats => {\n\t\tif ( stats.isDirectory() ) {\n\t\t\t// might need to redirect from `foo` to `foo/`\n\t\t\tif ( pathname.slice( -1 ) !== '/' ) {\n\t\t\t\tresponse.setHeader( 'Location', pathname + '/' + ( parsedUrl.search || '' ) );\n\t\t\t\tresponse.writeHead( 301 );\n\n\t\t\t\tresponse.end();\n\t\t\t} else {\n\t\t\t\treturn serveDir( filepath, request, response );\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\treturn serveFile( filepath, request, response );\n\t\t}\n\t}, err => serveError( err, request, response ) );\n}\n","import { createServer } from 'http';\nimport { resolve } from 'path';\nimport { Promise } from 'sander';\nimport * as tinyLr from 'tiny-lr';\nimport cleanup from '../../utils/cleanup';\nimport session from '../../session/index.js';\nimport GobbleError from '../../utils/GobbleError';\nimport handleRequest from './handleRequest';\n\nexport default function serve ( node, options = {} ) {\n\tconst port = options.port || 4567;\n\tconst gobbledir = resolve( options.gobbledir || process.env.GOBBLE_TMP_DIR || '.gobble' );\n\tconst task = session.create({ gobbledir });\n\n\tlet buildStarted = Date.now();\n\tlet watchTask;\n\tlet srcDir;\n\tlet sourcemapPromises;\n\tlet server;\n\tlet serverReady;\n\tlet lrServer;\n\tlet lrServerReady;\n\tlet built = false;\n\tlet firedReadyEvent = false;\n\tlet error = { gobble: 'WAITING' };\n\n\ttask.resume = n => {\n\t\tnode = n;\n\t\twatchTask = node.createWatchTask();\n\n\t\twatchTask.on( 'info', details => task.emit( 'info', details ) );\n\n\t\twatchTask.on( 'error', err => {\n\t\t\terror = err;\n\t\t\ttask.emit( 'error', err );\n\t\t});\n\n\t\tlet buildStart;\n\t\twatchTask.on( 'build:start', () => buildStart = Date.now() );\n\n\t\twatchTask.on( 'build:end', dir => {\n\t\t\terror = null;\n\t\t\tsourcemapPromises = {};\n\t\t\tsrcDir = dir;\n\n\t\t\tbuilt = true;\n\n\t\t\ttask.emit( 'built' );\n\n\t\t\ttask.emit( 'info', {\n\t\t\t\tcode: 'BUILD_COMPLETE',\n\t\t\t\tduration: Date.now() - buildStart\n\t\t\t});\n\n\t\t\tif ( !firedReadyEvent && serverReady ) {\n\t\t\t\ttask.emit( 'ready' );\n\t\t\t\tfiredReadyEvent = true;\n\t\t\t}\n\n\t\t\tif ( !lrServerReady ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlrServer.changed({ body: { files: '*' } });\n\t\t});\n\t};\n\n\ttask.close = () => {\n\t\tif ( node ) {\n\t\t\tnode.stop();\n\t\t}\n\n\t\treturn new Promise( fulfil => {\n\t\t\tsession.destroy();\n\t\t\tserver.removeAllListeners();\n\t\t\tserver.close( fulfil );\n\t\t});\n\t};\n\n\ttask.pause = () => {\n\t\terror = { gobble: 'WAITING' };\n\n\t\tbuildStarted = Date.now();\n\n\t\tif ( node ) {\n\t\t\tnode.stop();\n\t\t}\n\n\t\tnode = null;\n\n\t\treturn cleanup( gobbledir );\n\t};\n\n\tserver = createServer();\n\n\tserver.on( 'error', err => {\n\t\tif ( err.code === 'EADDRINUSE' ) {\n\t\t\t// We need to create our own error, so we can pass along port info\n\t\t\terr = new GobbleError({\n\t\t\t\tport,\n\t\t\t\tcode: 'PORT_IN_USE',\n\t\t\t\tmessage: `port ${port} is already in use`\n\t\t\t});\n\t\t}\n\n\t\ttask.emit( 'error', err );\n\n\t\tprocess.exit( 1 );\n\t});\n\n\tserver.listen( port, () => {\n\t\tserverReady = true;\n\n\t\tif ( !firedReadyEvent && built ) {\n\t\t\ttask.emit( 'ready' );\n\t\t\tfiredReadyEvent = true;\n\t\t}\n\n\t\ttask.emit( 'info', {\n\t\t\tport,\n\t\t\tcode: 'SERVER_LISTENING'\n\t\t});\n\t});\n\n\tserver.on( 'request', ( request, response ) => {\n\t\thandleRequest( srcDir, error, sourcemapPromises, request, response )\n\t\t\t.catch( err => task.emit( 'error', err ) );\n\t});\n\n\tlrServer = tinyLr();\n\tlrServer.error = err => {\n\t\tif ( err.code === 'EADDRINUSE' ) {\n\t\t\ttask.emit( 'warning', 'a livereload server is already running (perhaps in a separate gobble process?). Livereload will not be available for this session' );\n\t\t} else {\n\t\t\ttask.emit( 'error', err );\n\t\t}\n\t};\n\n\tlrServer.listen( 35729, () => {\n\t\tlrServerReady = true;\n\t\ttask.emit( 'info', {\n\t\t\tcode: 'LIVERELOAD_RUNNING'\n\t\t});\n\t});\n\n\n\tcleanup( gobbledir ).then(\n\t\t() => task.resume( node ),\n\t\terr => task.emit( 'error', err )\n\t);\n\n\treturn task;\n}\n","import { extname, resolve } from 'path';\nimport { lsr } from 'sander';\nimport * as mapSeries from 'promise-map-series';\nimport { load } from 'sorcery';\n\nconst whitelist = { '.js': true, '.css': true };\n\nexport default function flattenSourcemaps ( inputdir, outputdir, base, task ) {\n\treturn lsr( inputdir ).then( files => {\n\t\tconst jsAndCss = files.filter( file => whitelist[ extname( file ) ] );\n\n\t\treturn mapSeries( jsAndCss, file => {\n\t\t\treturn load( resolve( inputdir, file ) )\n\t\t\t\t.then( chain => {\n\t\t\t\t\tif ( chain ) {\n\t\t\t\t\t\treturn chain.write( resolve( outputdir, file ), { base });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch( err => {\n\t\t\t\t\ttask.emit( 'error', err );\n\t\t\t\t});\n\t\t});\n\t})\n\t.then( () => inputdir );\n}\n","import { resolve } from 'path';\nimport { copydir ,readdir } from 'sander';\nimport cleanup from '../../utils/cleanup';\nimport session from '../../session/index.js';\nimport GobbleError from '../../utils/GobbleError';\nimport flattenSourcemaps from '../../utils/flattenSourcemaps';\n\nexport default function ( node, options ) {\n\tif ( !options || !options.dest ) {\n\t\tthrow new GobbleError({\n\t\t\tcode: 'MISSING_DEST_DIR',\n\t\t\ttask: 'build'\n\t\t});\n\t}\n\n\tconst gobbledir = resolve( options.gobbledir || process.env.GOBBLE_TMP_DIR || '.gobble-build' );\n\tconst dest = options.dest;\n\n\t// the return value is an EventEmitter...\n\tconst task = session.create({ gobbledir });\n\tlet promise;\n\tlet previousDetails;\n\n\tfunction build () {\n\t\ttask.emit( 'info', {\n\t\t\tcode: 'BUILD_START'\n\t\t});\n\t\tnode.start();\n\n\t\tnode.on( 'info', details => {\n\t\t\tif ( details === previousDetails ) return;\n\t\t\tpreviousDetails = details;\n\t\t\ttask.emit( 'info', details );\n\t\t});\n\n\t\treturn node.ready()\n\t\t\t.then( inputdir => {\n\t\t\t\treturn copydir( inputdir ).to( dest )\n\t\t\t\t\t.then( () => flattenSourcemaps( inputdir, dest, dest, task ) );\n\t\t\t})\n\t\t\t.then( () => node.stop() ); // TODO should not need to stop...\n\t}\n\n\tpromise = cleanup( gobbledir )\n\t\t.then( () => {\n\t\t\treturn readdir( dest ).then( files => {\n\t\t\t\tif ( files.length && !options.force ) {\n\t\t\t\t\tthrow new GobbleError({\n\t\t\t\t\t\tmessage: `destination folder (${dest}) is not empty`,\n\t\t\t\t\t\tcode: 'DIR_NOT_EMPTY',\n\t\t\t\t\t\tpath: dest\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn cleanup( dest ).then( build );\n\t\t\t}, build );\n\t\t})\n\t\t.then(\n\t\t\t() => {\n\t\t\t\ttask.emit( 'complete' );\n\t\t\t\tsession.destroy();\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tsession.destroy();\n\t\t\t\ttask.emit( 'error', err );\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t);\n\n\t// that does double duty as a promise\n\ttask.then = function () {\n\t\treturn promise.then.apply( promise, arguments );\n\t};\n\n\ttask.catch = function () {\n\t\treturn promise.catch.apply( promise, arguments );\n\t};\n\n\treturn task;\n}\n","import { copydir, rimraf, Promise } from 'sander';\nimport cleanup from '../../utils/cleanup';\nimport session from '../../session/index.js';\nimport GobbleError from '../../utils/GobbleError';\nimport flattenSourcemaps from '../../utils/flattenSourcemaps';\n\nexport default function watch ( node, options ) {\n\tif ( !options || !options.dest ) {\n\t\tthrow new GobbleError({\n\t\t\tcode: 'MISSING_DEST_DIR',\n\t\t\ttask: 'watch'\n\t\t});\n\t}\n\n\tconst gobbledir = require( 'path' ).resolve( options.gobbledir || process.env.GOBBLE_TMP_DIR || '.gobble-watch' );\n\tconst task = session.create({ gobbledir });\n\n\tlet watchTask;\n\n\ttask.resume = n => {\n\t\tnode = n;\n\t\twatchTask = node.createWatchTask();\n\n\t\twatchTask.on( 'info', details => task.emit( 'info', details ) );\n\t\twatchTask.on( 'error', err => task.emit( 'error', err ) );\n\n\t\tlet buildStart;\n\t\twatchTask.on( 'build:start', () => buildStart = Date.now() );\n\n\t\twatchTask.on( 'build:end', dir => {\n\t\t\tconst dest = options.dest;\n\n\t\t\trimraf( dest )\n\t\t\t\t.then( () => copydir( dir ).to( dest ) )\n\t\t\t\t.then( () => {\n\t\t\t\t\tconst sourcemapProcessStart = Date.now();\n\n\t\t\t\t\ttask.emit( 'info', {\n\t\t\t\t\t\tcode: 'SOURCEMAP_PROCESS_START',\n\t\t\t\t\t\tprogressIndicator: true\n\t\t\t\t\t});\n\n\t\t\t\t\treturn flattenSourcemaps( dir, dest, dest, task ).then( () => {\n\t\t\t\t\t\ttask.emit( 'info', {\n\t\t\t\t\t\t\tcode: 'SOURCEMAP_PROCESS_COMPLETE',\n\t\t\t\t\t\t\tduration: Date.now() - sourcemapProcessStart\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttask.emit( 'info', {\n\t\t\t\t\t\t\tcode: 'BUILD_COMPLETE',\n\t\t\t\t\t\t\tduration: Date.now() - buildStart,\n\t\t\t\t\t\t\twatch: true\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then( () => task.emit( 'built', dest ) )\n\t\t\t\t.catch( err => task.emit( 'error', err ) );\n\t\t});\n\t};\n\n\ttask.close = () => {\n\t\twatchTask.close();\n\t\tsession.destroy();\n\n\t\treturn Promise.resolve(); // for consistency with serve task\n\t};\n\n\ttask.pause = () => {\n\t\tif ( watchTask ) {\n\t\t\twatchTask.close();\n\t\t}\n\n\t\twatchTask = null;\n\t\treturn cleanup( gobbledir );\n\t};\n\n\tcleanup( gobbledir ).then(\n\t\t() => task.resume( node ),\n\t\terr => task.emit( 'error', err )\n\t);\n\n\treturn task;\n}\n","import { EventEmitter2 } from 'eventemitter2';\nimport * as crc32 from 'buffer-crc32';\nimport { lsrSync, readFileSync, rimraf } from 'sander';\nimport { resolve } from 'path';\nimport * as requireRelative from 'require-relative';\nimport { grab, include, map as mapTransform, move } from '../builtins/index.js';\nimport { Observer, Transformer } from './index.js';\nimport config from '../config/index.js';\nimport GobbleError from '../utils/GobbleError.js';\nimport assign from '../utils/assign.js';\nimport warnOnce from '../utils/warnOnce.js';\nimport compareBuffers from '../utils/compareBuffers.js';\nimport serve from './serve/index.js';\nimport build from './build/index.js';\nimport watch from './watch/index.js';\nimport { isRegExp } from '../utils/is.js';\nimport { ABORTED } from '../utils/signals.js';\n\n// TODO remove this in a future version\nfunction enforceCorrectArguments ( options ) {\n\tif ( options !== undefined && typeof options !== 'object' ) {\n\t\tthrow new Error( 'As of gobble 0.9.0, you cannot pass multiple strings to .grab() and .moveTo(). Use path.join() instead' );\n\t}\n}\n\nexport default class Node extends EventEmitter2 {\n\tconstructor () {\n\t\t// initialise event emitter\n\t\tsuper({ wildcard: true });\n\n\t\tthis._gobble = true; // makes life easier for e.g. gobble-cli\n\n\t\tthis.counter = 1;\n\t\tthis.inspectTargets = [];\n\t}\n\n\t// This gets overwritten each time this.ready is overwritten. Until\n\t// the first time that happens, it's a noop\n\t_abort () {}\n\n\t_findCreator () {\n\t\treturn this;\n\t}\n\n\tbuild ( options ) {\n\t\treturn build( this, options );\n\t}\n\n\tcreateWatchTask () {\n\t\tconst node = this;\n\t\tconst watchTask = new EventEmitter2({ wildcard: true });\n\n\t\t// TODO is this the best place to handle this stuff? or is it better\n\t\t// to pass off the info to e.g. gobble-cli?\n\t\tlet previousDetails;\n\n\t\tnode.on( 'info', details => {\n\t\t\tif ( details === previousDetails ) return;\n\t\t\tpreviousDetails = details;\n\t\t\twatchTask.emit( 'info', details );\n\t\t});\n\n\t\tlet buildScheduled;\n\n\t\tnode.on( 'invalidate', changes => {\n\t\t\t// A node can depend on the same source twice, which will result in\n\t\t\t// simultaneous rebuilds unless we defer it to the next tick\n\t\t\tif ( !buildScheduled ) {\n\t\t\t\tbuildScheduled = true;\n\t\t\t\twatchTask.emit( 'info', {\n\t\t\t\t\tchanges,\n\t\t\t\t\tcode: 'BUILD_INVALIDATED'\n\t\t\t\t});\n\n\t\t\t\tprocess.nextTick( build );\n\t\t\t}\n\t\t});\n\n\t\tnode.on( 'error', handleError );\n\n\t\tfunction build () {\n\t\t\tbuildScheduled = false;\n\n\t\t\twatchTask.emit( 'build:start' );\n\n\t\t\tnode.ready()\n\t\t\t\t.then( outputdir => {\n\t\t\t\t\twatchTask.emit( 'build:end', outputdir );\n\t\t\t\t})\n\t\t\t\t.catch( handleError );\n\t\t}\n\n\t\tfunction handleError ( e ) {\n\t\t\tif ( e === ABORTED ) {\n\t\t\t\t// these happen shortly after an invalidation,\n\t\t\t\t// we can ignore them\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\twatchTask.emit( 'error', e );\n\t\t\t}\n\t\t}\n\n\t\twatchTask.close = () => node.stop();\n\n\t\tthis.start();\n\t\tprocess.nextTick( build );\n\n\t\treturn watchTask;\n\t}\n\n\texclude ( patterns, options ) {\n\t\tif ( typeof patterns === 'string' ) { patterns = [ patterns ]; }\n\t\treturn new Transformer( this, include, { patterns, exclude: true, id: options && options.id });\n\t}\n\n\tgetChanges ( inputdir ) {\n\t\tconst files = lsrSync( inputdir );\n\n\t\tif ( !this._files ) {\n\t\t\tthis._files = files;\n\t\t\tthis._checksums = {};\n\n\t\t\tfiles.forEach( file => {\n\t\t\t\tthis._checksums[ file ] = crc32( readFileSync( inputdir, file ) );\n\t\t\t});\n\n\t\t\treturn files.map( file => ({ file, added: true }) );\n\t\t}\n\n\t\tconst added = files.filter( file => !~this._files.indexOf( file ) ).map( file => ({ file, added: true }) );\n\t\tconst removed = this._files.filter( file => !~files.indexOf( file ) ).map( file => ({ file, removed: true }) );\n\n\t\tconst maybeChanged = files.filter( file => ~this._files.indexOf( file ) );\n\n\t\tlet changed = [];\n\n\t\tmaybeChanged.forEach( file => {\n\t\t\tlet checksum = crc32( readFileSync( inputdir, file ) );\n\n\t\t\tif ( !compareBuffers( checksum, this._checksums[ file ] ) ) {\n\t\t\t\tchanged.push({ file, changed: true });\n\t\t\t\tthis._checksums[ file ] = checksum;\n\t\t\t}\n\t\t});\n\n\t\treturn added.concat( removed ).concat( changed );\n\t}\n\n\tgrab ( src, options ) {\n\t\tenforceCorrectArguments( options );\n\t\treturn new Transformer( this, grab, { src, id: options && options.id });\n\t}\n\n\t// Built-in transformers\n\tinclude ( patterns, options ) {\n\t\tif ( typeof patterns === 'string' ) { patterns = [ patterns ]; }\n\t\treturn new Transformer( this, include, { patterns, id: options && options.id });\n\t}\n\n\tinspect ( target, options ) {\n\t\ttarget = resolve( config.cwd, target );\n\n\t\tif ( options && options.clean ) {\n\t\t\trimraf( target );\n\t\t}\n\n\t\tthis.inspectTargets.push( target );\n\t\treturn this; // chainable\n\t}\n\n\tmap ( fn, userOptions ) {\n\t\twarnOnce( 'node.map() is deprecated. You should use node.transform() instead for both file and directory transforms' );\n\t\treturn this.transform( fn, userOptions );\n\t}\n\n\tmoveTo ( dest, options ) {\n\t\tenforceCorrectArguments( options );\n\t\treturn new Transformer( this, move, { dest, id: options && options.id });\n\t}\n\n\tobserve ( fn, userOptions ) {\n\t\tif ( typeof fn === 'string' ) {\n\t\t\tfn = tryToLoad( fn );\n\t\t}\n\n\t\treturn new Observer( this, fn, userOptions );\n\t}\n\n\tobserveIf ( condition, fn, userOptions ) {\n\t\treturn condition ? this.observe( fn, userOptions ) : this;\n\t}\n\n\tserve ( options ) {\n\t\treturn serve( this, options );\n\t}\n\n\ttransform ( fn, userOptions ) {\n\t\tif ( typeof fn === 'string' ) {\n\t\t\t// TODO remove this for 0.9.0\n\t\t\tif ( fn === 'sorcery' ) {\n\t\t\t\twarnOnce( 'Sourcemaps are flattened automatically as of gobble 0.8.0. You should remove the sorcery transformation from your build definition' );\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tfn = tryToLoad( fn );\n\t\t}\n\n\t\t// If function takes fewer than 3 arguments, it's a file transformer\n\t\tif ( fn.length < 3 ) {\n\t\t\tconst options = assign( {}, fn.defaults, userOptions, {\n\t\t\t\tfn,\n\t\t\t\tcache: {},\n\t\t\t\tuserOptions: assign( {}, userOptions )\n\t\t\t});\n\n\t\t\tif ( typeof options.accept === 'string' || isRegExp( options.accept ) ) {\n\t\t\t\toptions.accept = [ options.accept ];\n\t\t\t}\n\n\t\t\treturn new Transformer( this, mapTransform, options, fn.id || fn.name );\n\t\t}\n\n\t\t// Otherwise it's a directory transformer\n\t\treturn new Transformer( this, fn, userOptions );\n\t}\n\n\ttransformIf ( condition, fn, userOptions ) {\n\t\treturn condition ? this.transform( fn, userOptions ) : this;\n\t}\n\n\twatch ( options ) {\n\t\treturn watch( this, options );\n\t}\n}\n\nfunction tryToLoad ( plugin ) {\n\ttry {\n\t\treturn requireRelative( `gobble-${plugin}`, process.cwd() );\n\t} catch ( err ) {\n\t\tif ( err.message === `Cannot find module 'gobble-${plugin}'` ) {\n\t\t\tthrow new GobbleError({\n\t\t\t\tmessage: `Could not load gobble-${plugin} plugin`,\n\t\t\t\tcode: 'PLUGIN_NOT_FOUND',\n\t\t\t\tplugin: plugin\n\t\t\t});\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n}\n","let i = 1;\n\nexport default function uid ( postfix ) {\n\tif ( process.env.GOBBLE_RESET_UID === 'reset' ) {\n\t\ti = 1;\n\t\tdelete process.env.GOBBLE_RESET_UID;\n\t}\n\n\treturn pad( i++ ) + ( postfix ? `-${postfix}` : '' );\n}\n\nfunction pad ( number ) {\n\treturn '' + ( number < 10 ? '0' + number : number );\n}\n","import { basename, relative, resolve } from 'path';\nimport { link, linkSync, mkdirSync, statSync, Promise } from 'sander';\nimport { watch, Directory, File } from 'pathwatcher';\nimport * as debounce from 'debounce';\nimport Node from './Node';\nimport uid from '../utils/uid';\nimport session from '../session/index.js';\nimport GobbleError from '../utils/GobbleError';\n\nexport default class Source extends Node {\n\tconstructor ( dir, options = {} ) {\n\t\tsuper();\n\n\t\tthis.id = options.id || 'source';\n\t\tthis.dir = dir;\n\t\tthis.callbacks = [];\n\t\tthis._entries = {};\n\n\t\t// Ensure the source exists, and is a directory\n\t\ttry {\n\t\t\tconst stats = statSync( this.dir );\n\n\t\t\tif ( !stats.isDirectory() ) {\n\t\t\t\tthis.file = dir;\n\t\t\t\tthis.dir = undefined;\n\n\t\t\t\tthis.uid = uid( this.id );\n\n\t\t\t\tthis._ready = new Promise( ( ok, fail ) => {\n\t\t\t\t\tthis._deferred = { ok, fail };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._ready = Promise.resolve( this.dir );\n\t\t\t}\n\t\t} catch ( err ) {\n\t\t\tif ( err.code === 'ENOENT' ) {\n\t\t\t\tthrow new GobbleError({\n\t\t\t\t\tcode: 'MISSING_DIRECTORY',\n\t\t\t\t\tpath: dir,\n\t\t\t\t\tmessage: `the ${dir} directory does not exist`\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthrow err;\n\t\t}\n\n\t\tthis.static = options && options.static;\n\t}\n\n\tready () {\n\t\treturn this._ready;\n\t}\n\n\tstart () {\n\t\tif ( this._active || this.static ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._active = true;\n\n\t\t// this is a file watch that isn't fully initialized\n\t\tif ( this._deferred ) {\n\t\t\tthis._makeReady();\n\t\t}\n\n\t\t// make sure the file is in the appropriate target directory to start\n\t\tif ( this.file ) {\n\t\t\tlinkSync( this.file ).to( this.targetFile );\n\t\t}\n\n\t\tlet changed = {};\n\n\t\tconst relay = debounce( () => {\n\t\t\tlet changes = [];\n\n\t\t\tObject.keys( changed ).forEach( path => {\n\t\t\t\tconst type = changed[ path ];\n\t\t\t\tlet change = { type, file: relative( this.dir, path ) };\n\n\t\t\t\ttype === 'add'    && ( change.added = true );\n\t\t\t\ttype === 'change' && ( change.changed = true );\n\t\t\t\ttype === 'unlink' && ( change.removed = true );\n\n\t\t\t\tchanges.push( change );\n\t\t\t});\n\n\t\t\tthis.emit( 'invalidate', this.changes = changes );\n\t\t\tchanged = {};\n\t\t}, 100 );\n\n\t\tif ( this.dir ) {\n\t\t\tthis._dir = new Directory( this.dir );\n\t\t\tconst processDirEntries = ( err, entries, initial ) => {\n\t\t\t\tif (err) throw err;\n\n\t\t\t\tentries.forEach( entry => {\n\t\t\t\t\tif ( this._entries[ entry.path ] ) return;\n\t\t\t\t\telse if ( !initial ) {\n\t\t\t\t\t\tchanged[ entry.path ] = 'add';\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._entries[ entry.path ] = entry;\n\n\t\t\t\t\tif ( entry instanceof File ) {\n\t\t\t\t\t\tentry.onDidChange( () => {\n\t\t\t\t\t\t\tchanged[ entry.path ] = 'change';\n\t\t\t\t\t\t\trelay();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlet doDelete = () => {\n\t\t\t\t\t\t\tthis._entries[ entry.path ].unsubscribeFromNativeChangeEvents();\n\t\t\t\t\t\t\tthis._entries[ entry.path ] = null;\n\t\t\t\t\t\t\tchanged[ entry.path ] = 'unlink';\n\t\t\t\t\t\t\trelay();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tentry.onDidDelete( doDelete );\n\t\t\t\t\t\tentry.onDidRename( doDelete );\n\n\t\t\t\t\t} else if ( entry instanceof Directory ) {\n\t\t\t\t\t\tentry.onDidChange( () => {\n\t\t\t\t\t\t\tentry.getEntries( processDirEntries );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tentry.getEntries( ( err, entries ) => {\n\t\t\t\t\t\t\tprocessDirEntries( err, entries, initial );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._dir.getEntries( processDirEntries );\n\t\t\tprocessDirEntries( null, [ this._dir ], true );\n\t\t}\n\n\t\tif ( this.file ) {\n\t\t\tthis._fileWatcher = watch( this.file, ( type ) => {\n\t\t\t\tif ( type === 'change' ) link( this.file ).to( this.targetFile );\n\t\t\t});\n\t\t}\n\t}\n\n\tstop () {\n\t\tif ( this._dir ) {\n\t\t\tObject.keys(this._entries).forEach( path => {\n\t\t\t\tthis._entries[ path ].unsubscribeFromNativeChangeEvents();\n\t\t\t\tdelete this._entries[ path ];\n\t\t\t})\n\t\t\tthis._dir.unsubscribeFromNativeChangeEvents();\n\t\t\tthis._dir = null;\n\t\t}\n\n\t\tif ( this._fileWatcher ) {\n\t\t\tthis._fileWatcher.close();\n\t\t\tthis._fileWatcher = null;\n\t\t}\n\n\t\tthis._active = false;\n\t}\n\n\tactive () {\n\t\treturn this._active;\n\t}\n\n\t_findCreator ( filename ) {\n\t\ttry {\n\t\t\tstatSync( filename );\n\t\t\treturn this;\n\t\t} catch ( err ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t_makeReady () {\n\t\tthis.dir = resolve( session.config.gobbledir, this.uid );\n\t\tthis.targetFile = resolve( this.dir, basename( this.file ) );\n\n\t\ttry {\n\t\t\tmkdirSync( this.dir );\n\t\t\tthis._deferred.ok( this.dir );\n\t\t} catch (e) {\n\t\t\tthis._deferred.fail( e );\n\t\t\tthrow e;\n\t\t}\n\n\t\tdelete this._deferred;\n\t}\n}\n","import { join, resolve, sep } from 'path';\nimport {\n\tlstat,\n\tmkdir,\n\tmkdirSync,\n\treaddir,\n\treaddirSync,\n\trealpathSync,\n\trimrafSync,\n\tstat,\n\tsymlinkOrCopy,\n\tsymlinkOrCopySync,\n\tunlink,\n\tunlinkSync,\n\tPromise\n} from 'sander';\nimport * as mapSeries from 'promise-map-series';\nimport Node from './Node';\nimport session from '../session/index.js';\nimport uid from '../utils/uid';\nimport { ABORTED } from '../utils/signals';\n\nfunction mergeDirectories ( src, dest ) {\n\treturn stat( dest ).then( stats => {\n\t\tif ( stats.isDirectory() ) {\n\t\t\t// If it's a symlinked dir, we need to convert it to a real dir.\n\t\t\t// Suppose linked-foo/ is a symlink of foo/, and we try to copy\n\t\t\t// the contents of bar/ into linked-foo/ - those files will end\n\t\t\t// up in foo, which is definitely not what we want\n\t\t\treturn lstat( dest )\n\t\t\t\t.then( stats => {\n\t\t\t\t\tif ( stats.isSymbolicLink() ) {\n\t\t\t\t\t\treturn convertToRealDir( dest );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then( () => {\n\t\t\t\t\treturn readdir( src ).then( files => {\n\t\t\t\t\t\tconst promises = files.map( filename =>\n\t\t\t\t\t\t\tmergeDirectories( src + sep + filename, dest + sep + filename )\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn Promise.all( promises );\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\n\t\t// exists, and is file - overwrite\n\t\treturn unlink( dest ).then( link );\n\t}, link ); // <- failed to stat, means dest doesn't exist\n\n\tfunction link () {\n\t\treturn symlinkOrCopy( src ).to( dest );\n\t}\n}\n\n// TODO make this async\nfunction convertToRealDir ( symlinkPath ) {\n\tconst originalPath = realpathSync( symlinkPath );\n\n\tunlinkSync( symlinkPath );\n\tmkdirSync( symlinkPath );\n\n\treaddirSync( originalPath ).forEach( filename => {\n\t\tsymlinkOrCopySync( originalPath, filename ).to( symlinkPath, filename );\n\t});\n}\n\nexport default class Merger extends Node {\n\tconstructor ( inputs, options ) {\n\t\tsuper();\n\n\t\tthis.inputs = inputs;\n\t\tthis.id = uid( ( options && options.id ) || 'merge' );\n\t}\n\n\tready () {\n\t\tlet aborted;\n\t\tlet index;\n\t\tlet outputdir;\n\n\t\tif ( !this._ready ) {\n\t\t\tthis._abort = () => {\n\t\t\t\t// allows us to short-circuit operations at various points\n\t\t\t\taborted = true;\n\t\t\t\tthis._ready = null;\n\t\t\t};\n\n\t\t\tindex = this.counter++;\n\t\t\toutputdir = resolve( session.config.gobbledir, this.id, '' + index );\n\n\t\t\tthis._ready = mkdir( outputdir ).then( () => {\n\t\t\t\tlet start;\n\t\t\t\tlet inputdirs = [];\n\n\t\t\t\treturn mapSeries( this.inputs, function ( input, i ) {\n\t\t\t\t\tif ( aborted ) throw ABORTED;\n\t\t\t\t\treturn input.ready().then( inputdir => inputdirs[i] = inputdir );\n\t\t\t\t}).then( () => {\n\t\t\t\t\tstart = Date.now();\n\n\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\tcode: 'MERGE_START',\n\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\tprogressIndicator: true\n\t\t\t\t\t});\n\n\t\t\t\t\treturn mapSeries( inputdirs, inputdir => {\n\t\t\t\t\t\tif ( aborted ) throw ABORTED;\n\t\t\t\t\t\treturn mergeDirectories( inputdir, outputdir );\n\t\t\t\t\t});\n\t\t\t\t}).then( () => {\n\t\t\t\t\tif ( aborted ) throw ABORTED;\n\n\t\t\t\t\tthis._cleanup( index );\n\n\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\tcode: 'MERGE_COMPLETE',\n\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\tduration: Date.now() - start\n\t\t\t\t\t});\n\n\t\t\t\t\treturn outputdir;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this._ready;\n\t}\n\n\tstart () {\n\t\tif ( this._active ) return;\n\t\tthis._active = true;\n\n\t\tthis._oninvalidate = changes => {\n\t\t\tthis._abort( changes );\n\t\t\tthis.emit( 'invalidate', changes );\n\t\t};\n\n\t\tthis._oninfo = details => this.emit( 'info', details );\n\n\t\tthis.inputs.forEach( input => {\n\t\t\tinput.on( 'invalidate', this._oninvalidate );\n\t\t\tinput.on( 'info', this._oninfo );\n\n\t\t\tinput.start();\n\t\t});\n\t}\n\n\tstop () {\n\t\tthis.inputs.forEach( input => {\n\t\t\tinput.off( 'invalidate', this._oninvalidate );\n\t\t\tinput.off( 'info', this._oninfo );\n\n\t\t\tinput.stop();\n\t\t});\n\n\t\tthis._active = false;\n\t}\n\n\tactive () {\n\t\treturn this._active;\n\t}\n\n\t_cleanup ( index ) {\n\t\tconst dir = join( session.config.gobbledir, this.id );\n\n\t\t// Remove everything except the last successful output dir.\n\t\t// Use readdirSync to eliminate race conditions\n\t\treaddirSync( dir )\n\t\t\t.filter( file => file !== '.cache' && ( +file < index ) )\n\t\t\t.forEach( file => rimrafSync( dir, file ) );\n\t}\n\n\t_findCreator ( filename ) {\n\t\tlet i = this.inputs.length;\n\t\tlet node;\n\n\t\twhile ( i-- ) {\n\t\t\tnode = this.inputs[i];\n\t\t\tif ( node._findCreator( filename ) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n}\n","import Queue from './Queue.js';\nexport default new Queue();\n","export default function makeLog ( node, event = 'info' ) {\n\treturn details => {\n\t\t// it's a string that may be formatted\n\t\tif ( typeof details === 'string' ) {\n\t\t\tnode.emit( event, { progressIndicator: true, message: details, parameters: Array.prototype.slice.call( arguments, 1 ) } );\n\t\t} else { // otherwise, pass through\n\t\t\tnode.emit( event, details );\n\t\t}\n\t};\n}\n","import * as sander from 'sander';\nimport Node from './Node';\nimport queue from '../queue/index.js';\nimport GobbleError from '../utils/GobbleError';\nimport assign from '../utils/assign';\nimport uid from '../utils/uid';\nimport makeLog from '../utils/makeLog';\nimport config from '../config/index.js';\nimport extractLocationInfo from '../utils/extractLocationInfo';\nimport { ABORTED } from '../utils/signals';\n\nexport default class Observer extends Node {\n\tconstructor ( input, fn, options, id ) {\n\t\tsuper();\n\n\t\tthis.input = input;\n\n\t\tthis.fn = fn;\n\t\tthis.options = assign( {}, options );\n\n\t\tthis.name = id || fn.id || fn.name || 'unknown';\n\t\tthis.id = uid( this.name );\n\t}\n\n\tready () {\n\t\tlet observation;\n\n\t\tif ( !this._ready ) {\n\t\t\tobservation = {\n\t\t\t\tnode: this,\n\t\t\t\tlog: makeLog( this ),\n\t\t\t\tenv: config.env,\n\t\t\t\tsander: sander\n\t\t\t};\n\n\t\t\tthis._abort = () => {\n\t\t\t\tthis._ready = null;\n\t\t\t\tobservation.aborted = true;\n\t\t\t};\n\n\t\t\tthis._ready = this.input.ready().then( inputdir => {\n\t\t\t\treturn queue.add( ( fulfil, reject ) => {\n\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\tcode: 'TRANSFORM_START', // TODO\n\t\t\t\t\t\tprogressIndicator: true,\n\t\t\t\t\t\tid: this.id\n\t\t\t\t\t});\n\n\t\t\t\t\tconst start = Date.now();\n\t\t\t\t\tlet called = false;\n\n\t\t\t\t\tconst callback = err => {\n\t\t\t\t\t\tif ( called ) return;\n\t\t\t\t\t\tcalled = true;\n\n\t\t\t\t\t\tif ( observation.aborted ) {\n\t\t\t\t\t\t\treject( ABORTED );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if ( err ) {\n\t\t\t\t\t\t\tlet stack = err.stack || new Error().stack;\n\t\t\t\t\t\t\tlet { file, line, column } = extractLocationInfo( err );\n\n\t\t\t\t\t\t\tlet gobbleError = new GobbleError({\n\t\t\t\t\t\t\t\tinputdir,\n\t\t\t\t\t\t\t\tstack, file, line, column,\n\t\t\t\t\t\t\t\tmessage: 'observation failed',\n\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\tcode: 'TRANSFORMATION_FAILED', // TODO\n\t\t\t\t\t\t\t\toriginal: err\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treject( gobbleError );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\t\t\tcode: 'TRANSFORM_COMPLETE', // TODO\n\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\tduration: Date.now() - start\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tfulfil( inputdir );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tobservation.changes = this.input.changes || this.getChanges( inputdir );\n\n\t\t\t\t\t\tconst promise = this.fn.call( observation, inputdir, assign({}, this.options ), callback );\n\t\t\t\t\t\tconst promiseIsPromise = promise && typeof promise.then === 'function';\n\n\t\t\t\t\t\tif ( !promiseIsPromise && this.fn.length < 3 ) {\n\t\t\t\t\t\t\tthrow new Error( `Observer ${this.id} did not return a promise and did not accept callback` );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( promiseIsPromise ) {\n\t\t\t\t\t\t\tpromise.then( () => callback(), callback );\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\tcallback( err );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this._ready;\n\t}\n\n\tstart () {\n\t\tif ( this._active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._active = true;\n\n\t\t// Propagate invalidation events and information\n\t\tthis._oninvalidate = changes => {\n\t\t\tthis._abort();\n\t\t\tthis.emit( 'invalidate', changes );\n\t\t};\n\n\t\tthis._oninfo = details => this.emit( 'info', details );\n\n\t\tthis.input.on( 'invalidate', this._oninvalidate );\n\t\tthis.input.on( 'info', this._oninfo );\n\n\t\treturn this.input.start();\n\t}\n\n\tstop () {\n\t\tthis.input.off( 'invalidate', this._oninvalidate );\n\t\tthis.input.off( 'info', this._oninfo );\n\n\t\tthis.input.stop();\n\t\tthis._active = false;\n\t}\n\n\tactive () {\n\t\treturn this._active;\n\t}\n}\n","import { join, resolve } from 'path';\nimport * as sander from 'sander';\nimport { mkdir, readdirSync, rimrafSync } from 'sander';\nimport Node from './Node';\nimport session from '../session/index.js';\nimport queue from '../queue/index.js';\nimport GobbleError from '../utils/GobbleError';\nimport assign from '../utils/assign';\nimport uid from '../utils/uid';\nimport makeLog from '../utils/makeLog';\nimport config from '../config/index.js';\nimport warnOnce from '../utils/warnOnce';\nimport extractLocationInfo from '../utils/extractLocationInfo';\nimport { ABORTED } from '../utils/signals';\n\nexport default class Transformer extends Node {\n\tconstructor ( input, transformer, options, id ) {\n\t\tsuper();\n\n\t\tthis.input = input;\n\n\t\tthis.transformer = transformer;\n\t\tthis.options = assign( {}, options );\n\n\t\tthis.name = id || this.options.id || transformer.id || transformer.name || 'unknown';\n\t\tthis.id = uid( this.name );\n\n\t\t// Double callback style deprecated as of 0.6.x. TODO remove this eventually\n\t\tif ( transformer.length === 5 ) {\n\t\t\twarnOnce( 'The gobble plugin API has changed - the \"%s\" transformer should take a single callback. See https://github.com/gobblejs/gobble/wiki/Troubleshooting for more info', this.name );\n\n\t\t\tthis.transformer = ( inputdir, outputdir, options, callback ) => {\n\t\t\t\treturn transformer.call( this, inputdir, outputdir, options, () => callback(), callback );\n\t\t\t};\n\t\t}\n\t}\n\n\tready () {\n\t\tlet outputdir;\n\t\tlet transformation;\n\n\t\tif ( !this._ready ) {\n\t\t\ttransformation = {\n\t\t\t\tnode: this,\n\t\t\t\tcachedir: resolve( session.config.gobbledir, this.id, '.cache' ),\n\t\t\t\tlog: makeLog( this ),\n\t\t\t\tenv: config.env,\n\t\t\t\tsander: sander\n\t\t\t};\n\n\t\t\tthis._abort = () => {\n\t\t\t\tthis._ready = null;\n\t\t\t\ttransformation.aborted = true;\n\t\t\t};\n\n\t\t\toutputdir = resolve( session.config.gobbledir, this.id, '' + this.counter++ );\n\n\t\t\tthis._ready = this.input.ready().then( inputdir => {\n\t\t\t\treturn mkdir( outputdir ).then( () => {\n\t\t\t\t\treturn queue.add( ( fulfil, reject ) => {\n\t\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\t\tcode: 'TRANSFORM_START',\n\t\t\t\t\t\t\tprogressIndicator: true,\n\t\t\t\t\t\t\tid: this.id\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst start = Date.now();\n\t\t\t\t\t\tlet called = false;\n\n\t\t\t\t\t\tconst callback = err => {\n\t\t\t\t\t\t\tif ( called ) return;\n\t\t\t\t\t\t\tcalled = true;\n\n\t\t\t\t\t\t\tif ( transformation.aborted ) {\n\t\t\t\t\t\t\t\treject( ABORTED );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse if ( err ) {\n\t\t\t\t\t\t\t\tlet stack = err.stack || new Error().stack;\n\t\t\t\t\t\t\t\tlet { file, line, column } = extractLocationInfo( err );\n\n\t\t\t\t\t\t\t\tlet gobbleError = new GobbleError({\n\t\t\t\t\t\t\t\t\tinputdir, outputdir,\n\t\t\t\t\t\t\t\t\tstack, file, line, column,\n\t\t\t\t\t\t\t\t\tmessage: 'transformation failed',\n\t\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\t\tcode: 'TRANSFORMATION_FAILED',\n\t\t\t\t\t\t\t\t\toriginal: err\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\treject( gobbleError );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.emit( 'info', {\n\t\t\t\t\t\t\t\t\tcode: 'TRANSFORM_COMPLETE',\n\t\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\t\tduration: Date.now() - start\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis._cleanup( outputdir );\n\t\t\t\t\t\t\t\tfulfil( outputdir );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ttransformation.changes = this.input.changes || this.getChanges( inputdir );\n\n\t\t\t\t\t\t\tconst promise = this.transformer.call( transformation, inputdir, outputdir, assign({}, this.options ), callback );\n\n\t\t\t\t\t\t\tif ( promise && typeof promise.then === 'function' ) {\n\t\t\t\t\t\t\t\tpromise.then( () => callback(), callback );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\tcallback( err );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this._ready;\n\t}\n\n\tstart () {\n\t\tif ( this._active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._active = true;\n\n\t\t// Propagate invalidation events and information\n\t\tthis._oninvalidate = changes => {\n\t\t\tthis._abort();\n\t\t\tthis.emit( 'invalidate', changes );\n\t\t};\n\n\t\tthis._oninfo = details => this.emit( 'info', details );\n\n\t\tthis.input.on( 'invalidate', this._oninvalidate );\n\t\tthis.input.on( 'info', this._oninfo );\n\n\t\treturn mkdir( session.config.gobbledir, this.id ).then( () => this.input.start() );\n\t}\n\n\tstop () {\n\t\tthis.input.off( 'invalidate', this._oninvalidate );\n\t\tthis.input.off( 'info', this._oninfo );\n\n\t\tthis.input.stop();\n\t\tthis._active = false;\n\t}\n\n\tactive () {\n\t\treturn this._active;\n\t}\n\n\t_cleanup ( latest ) {\n\t\tconst dir = join( session.config.gobbledir, this.id );\n\n\t\t// Remove everything except the last successful outputdir and the cachedir\n\t\t// Use readdirSync to eliminate race conditions\n\t\treaddirSync( dir )\n\t\t\t.filter( file => file !== '.cache' && resolve( dir, file ) !== latest )\n\t\t\t.forEach( file => rimrafSync( dir, file ) );\n\t}\n}\n","import { resolve } from 'path';\nimport * as sander from 'sander';\nimport { cyan } from 'chalk';\nimport { Merger, Source } from './nodes/index.js';\nimport config from './config/index.js';\nimport { isArray, isString } from './utils/is.js';\n\nfunction fail () {\n\tthrow new Error( `could not process input. Usage:\n    node2 = gobble(node1)\n    node = gobble('some/dir')\n    node = gobble([node1, node2[, nodeN]) (inputs can also be strings)\n    See ${cyan( 'https://github.com/gobblejs/gobble/wiki' )} for more info.` );\n}\n\nlet sources = {};\n\nfunction getNode ( input, options ) {\n\tif ( input._gobble ) {\n\t\treturn input;\n\t}\n\n\tif ( isArray( input ) ) {\n\t\tinput = input.map( ensureNode );\n\t\treturn new Merger( input, options );\n\t}\n\n\tif ( isString( input ) ) {\n\t\tinput = resolve( config.cwd, input );\n\t\treturn sources[ input ] || ( sources[ input ] = new Source( input, options ) );\n\t}\n\n\tfail();\n}\n\nfunction ensureNode ( input ) {\n\treturn getNode( input );\n}\n\nfunction gobble ( input, options ) {\n\t// gobble takes 1 or two arguments. The second must be an options object\n\tif ( arguments.length > 2 || options && ( typeof options !== 'object' || options._gobble ) ) {\n\t\tfail();\n\t}\n\n\treturn getNode( input, options );\n}\n\ngobble.env = function ( env ) {\n\tif ( arguments.length ) {\n\t\tconfig.env = env;\n\t}\n\n\treturn config.env;\n};\n\ngobble.cwd = function () {\n\tif ( arguments.length ) {\n\t\tconfig.cwd = resolve.apply( null, arguments );\n\t}\n\n\treturn config.cwd;\n};\n\ngobble.sander = sander;\n\nexport default gobble;\n"],"names":["lsr","mkdir","dirname","symlinkOrCopy","Promise","EventEmitter2","extname","join","readFile","resolve","writeFile","format","readdir","rimraf","basename","stat","createReadStream","exists","statSync","lookup","atob","SOURCEMAPPING_URL","readFileSync","Node","SOURCEMAP_COMMENT","relative","writeFileSync","parse","createServer","copydir","_include","lsrSync","grab","_grab","include","moveTo","move","serve","_serve","mapTransform","watch","_watch","i","linkSync","path","Directory","File","link","mkdirSync","lstat","sep","unlink","realpathSync","unlinkSync","readdirSync","symlinkOrCopySync","rimrafSync","cyan","sources"],"mappings":"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"}